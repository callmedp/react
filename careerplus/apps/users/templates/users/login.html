{% extends "basic/base.html" %}
{% load static compress %}
{% block title %}
        Login
{% endblock title %}
{% block css_section %}
    {{block.super}}
    {% compress css inline %}
    <style type="text/css">
        .error {
            color: red;
        }
    </style>
    {% endcompress %}
{% endblock css_section %}
{% block container %}
    

<!-- main section start -->
<div class="container pr">
    <header class="login-page-bg">
        <div class="login-bg-txt">
            <figure class="login-icon1"></figure>
            <strong>1 Lacs+</strong>
            Satisfied users
        </div>
        <div class="login-bg-txt">
            <figure class="login-icon2"></figure>
            <strong>300+</strong>
            Courses
        </div>
        <div class="login-bg-txt">
            <figure class="login-icon3"></figure>
            <strong>500+</strong>
            Professional resumes delivered
        </div>
    </header>

    <!-- login form start -->
    <div class="register login-signup-box">
        <div id="custom-form-error" style="color:red;"> </div>
        <div>
            {% if not linkedin %}
            <h1 class="modal-title">Login</h1>
            {% endif %}
            {% if messages %}
                {% for message in messages %}
                <div {% if message.tags %} class="alert alert-{{ message.tags }} alert-dismissable"{% endif %}>{{ message }}</div>
                {% endfor %}
            {% endif %}
        </div>

        {% if linkedin %}
            <form method="post" autocomplete="off" id="login_linkedin_form" role="form">
            {% csrf_token %}

                <div class="form-check linkedin-tnc">
                    <label>
                        <input type="checkbox" id="accept-condition" class="form-check-input">
                        By signing in with your LinkedIn account, you:
                    </label>
                    <p id="term-error" class="error"></p>

                    <ul>
                        <li>
                            Agree to Shine <a href="{% url 'tnc' %}">Terms & Conditions</a>
                        </li>
                        <li>
                            Agree to let Shine use your name, photo, headline, current positions and primary email address associated with your LinkedIn account under its <a href="{% url 'privacy-policy' %}">Privacy policy</a>
                        </li>
                        <li>
                            Understand that LinkedIn will have no access to any financial information shared hereafter
                        </li>
                        <li>
                            Agree to Shine sharing participation information with LinkedIn. This information will be reported in aggregate form only, and will not identify you as an individual
                        </li>
                    </ul>
                </div>

                <!--a href="#" class="submit-button" data-toggle="modal" data-target=".bs-example-modal-sm-linkedin">Login to Comments</a-->
                {% comment %}
                {% if linkedin_mobile %}
                    <a href="{% url 'users:linkedin-code' %}?credential=1&next={{request.GET.next}}" id="linkedin_url_id" style="margin:10px auto; display:block; text-align:center;" onclick='return validate_linkedin_login_terms()' mobile="mobile"><img src="{% static 'shinelearn/images/Sign-In-Small---Default.png' %}"></a>
                {% else %}
                {% endif %}
                {% endcomment %}
                
                <a href="{% url 'users:linkedin-code' %}?credential=1&next={{request.GET.next}}" id="linkedin_url_id" style="margin:10px auto; display:block; text-align:center;" onclick='return validate_linkedin_login_terms()'><img src="{% static 'shinelearn/images/Sign-In-Small---Default.png' %}"></a>
                

            </form>
        
        {% else %}
            <form method="post" id="login_form" role="form">
            {% csrf_token %}
                <fieldset>
                    {% for field in form %}
                        <div class="form-group {% if field.errors %}error{% endif %}">
                            {{field}}
                            <span class="error-txt">{{ field.errors.0 }}</span>
                        </div>
                    {% endfor %}
                </fieldset>

                <div class="form-check">
                    <label class="form-check-label">
                        <input type="checkbox" name="remember_me" class="form-check-input">
                        Remember me:
                    </label>
                </div>

                <button type="submit" class="btn btn-primary submit" onclick = "MyGA.SendEvent('sign_in','ln_sign_in', 'ln_login', '','', false, true);">Login</button>

                <small class="form-text text-muted text-center">
                    <a href="javascript:void(0)" id="modalforgot">
                    Forgot Password?</a>
                </small>
                <div class="social-login">
                    <span>or login with</span>
                    <a class="facebook" onclick="Login(); soc_gaevent('Login','Facebook_BuyFlow','Sign In'); MyGA.SendEvent('sign_in','ln_sign_in', 'ln_facebook', '','', false, true);"></a>
                    <a class="linkedin" onclick="soc_gaevent('Login','Linkedin_BuyFlow','Sign In');MyGA.SendEvent('sign_in','ln_sign_in', 'ln_linkedin', '','', false, true);" href="{% url 'users:linkedin-code' %}"></a>
                    <a class="gplus" onclick="glogin();soc_gaevent('Login','GooglePlus_BuyFlow','Sign In');MyGA.SendEvent('sign_in','ln_sign_in', 'ln_gplus, '','', false, true);"></a>
                </div>
                <small class="form-text text-muted text-center">Donâ€™t have an account yet? <a href="{% url 'register' %}">Register Now</a></small>
            </form>

        {% endif %}

    </div>
    <!-- login form end -->
</div>
<!-- main section end -->

<!-- forgot password box -->
  <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" id="forgot_div">
  <div class="modal-dialog modal-sm modal-custom" role="document">
    <div class="modal-content">
        <div class="register">
            <div>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h1 class="modal-title" id="myModalLabel">Forgot Password</h1>
            </div>
            <div id="msg_for_user"></div>
            <form method="post" id="forgot_form" 
            action="{% url "users:forgot-email-sent" %}">
            {% csrf_token %}
                {% for field in reset_form %}
                    <div class="form-group {% if field.errors %}error{% endif %}">
                        {{field}}
                        <span class="error-txt">{{ field.errors.0 }}</span>
                    </div>
                {% endfor %}
              <button type="submit" class="btn btn-primary submit mt-20">Submit</button>
            </form>
        </div>
    </div>
  </div>
</div>

{% comment %}
<!-- linkedin Modal-->
<div class="modal fade bs-example-modal-sm-linkedin" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" id="linkedin_div">
  <div class="modal-dialog modal-sm modal-custom" role="document">
    <div class="modal-content">
        <div class="register">
            <div>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h1 class="modal-title" id="myModalLabel">Mobile Number Required</h1>
            </div>
            <div id="msg_for_user">Mobile number is required to complete your registration on Shine to avail the offer.</div>
            <form method="GET" id="linkedin-form-id" 
            action="{% url 'users:linkedin-code' %}">
              <div class="form-group">
                <div class="country-code">
                  <div class="custom-select">
                    <select class="form-control" id="id_country_code" name="country_code">
                      {% for country in country_objs %}
                          <option value="{{country.phone}}" {% if country.phone == '91' %}selected{% endif %}>{{country.phone}}</option>
                      {% endfor %}
                    </select>
                  </div>
                  <input type="text" name="mobile" class="form-control" placeholder="Mobile">
                  <span class="ml-50 js-error"></span>
                </div>
              </div>
              <input type="hidden" name="next" value="{{request.GET.next}}">
              <input type="hidden" name="credential" value="1">
              <button type="submit" class="btn btn-primary submit mt-20">Submit</button>
            </form>
        </div>
    </div>
  </div>
</div>
{% endcomment %}
  
{% endblock container %}

{% block js_section %}
    {{block.super}}
    {% compress js %}
    <script src="{% static 'shinelearn/js/users/login.js' %}"></script>
    {% endcompress %}
<script type="text/javascript">
    $(document).ready(function () {
        var error_login=location.search.split('?')[1];
        if(error_login == 'signerror'){
        document.getElementById("custom-form-error").innerHTML=" Unable to SignIn ,Please try in Sometime";
         }
    });

          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
              ga('create', 'UA-3537905-41', 'auto', {'name': 'a'});
              ga('a.send', 'pageview');
              ga('create', 'UA-3537905-41', 'auto');
              ga('send', 'pageview');


function soc_gaevent(event_cat,event_lab,event_action){
  ga('send', 'event', event_cat, event_action, event_lab);
 }

</script>
{% endblock js_section %}
{% block johukum %}
{% endblock johukum %}

{% block zendesk %}
{% endblock zendesk %}
