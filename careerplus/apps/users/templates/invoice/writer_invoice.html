<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Invoice</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style>
@page {
    size: A4;
    font-family: 'Open Sans';
    padding: 0;
    margin-top: 2cm;
    margin-bottom: 1.6cm;
    margin-left: 1cm;
    margin-right: 1cm;
}
</style>
</head>
<body style="margin: 0px; padding: 0px;text-rendering: optimize-speed;font-family: Arial; background-color: #fff;">
  <table width="600px" border="0" cellspacing="0" cellpadding="0" style="font-family: Arial; font-size: 12px; color: #333; margin: 0 auto; padding: 0;background-color: #fff;">
     <tr>
      <td height="20"></td>
    </tr>
        <tr>
      <td>
    <table width="100%" border="0" cellspacing="0" cellpadding="0" style="text-transform: uppercase; border: solid 1px #000; width: 90%;margin-right: 5px; padding: 0 0 0 0;">
    <tr>
      <td width="33.3%" style="padding: 0 0 0 0;width: 33.33%;margin: 0 0 0 0;"><span style="display: block; margin: 0 0 0 0; padding:5px 0 5px 5px; ">invoice no. - {{invoice_no}}</span></td>
      <td width="33.3%" style="padding: 0 0 0 0;width: 33.33%;margin: 0 0 0 0;"><span style="display: block; margin: 0 0 0 0; padding:5px 0 5px 5px; ">invoice date - {{invoice_date|date:"d M Y"}}</span></td>
      <td width="33.3%" style="padding: 0 0 0 0;width: 33.33%;margin: 0 0 0 0;"><span style="display: block; margin: 0 0 0 0; padding:5px 0 5px 5px; ">P.O no. - {{writer_po_number}}</span></td>
    </tr>
</table>
  </td>
    </tr>
    <tr>
      <td>
    <table width="100%" border="0" cellspacing="0" cellpadding="0" style="text-transform: uppercase;  width: 100%; margin: 0 0 0 0; padding: 0 0 0 0;">
    <tr>
      <td colspan="3" style="margin: 0 0 0 0; padding: 0 0 0 0;">
    <table width="100%" border="0" cellspacing="0" cellpadding="0" style="margin-right: 5px; padding: 0 0 40px 0; width: 90%; border: solid 1px #000;">
    <tr>
      <td width="50%" style="padding: 0 0 0 0;margin: 0 0 0 0; width: 45%;"><span style="display: block; margin: 0 0 0 0; padding:5px 0 5px 5px; ">To:</span></td>
      <td width="50%" style="padding: 0 0 0 0;margin: 0 0 0 0; width: 45%;"><span style="display: block; margin: 0 0 0 0; padding:5px 0 5px 5px; ">From:</span></td>
    </tr>
    <tr>
      <td width="50%" style="padding: 0 0 0 0;margin: 0 0 0 0; width: 45%;"><span style="display: block; margin: 0 0 0 0; padding:0 0 2px 5px; ">HT Media Ltd., 18-20, KASTURBA GANDHI MARG,</span></td>
      <td width="50%" style="padding: 0 0 0 0;margin: 0 0 0 0; width: 45%;"><span style="display: block; margin: 0 0 0 0; padding:0 0 2px 5px; ">name of writer: {{writer_name}}</span></td>
    </tr>
     <tr>
      <td width="50%" style="padding: 0 0 0 0;margin: 0 0 0 0; width: 45%;"><span style="margin: 0 0 0 0; padding:0 0 2px 5px;">New Delhi, 110001</span></td>
      <td width="50%" style="padding: 0 0 0 0;margin: 0 0 0 0; width: 45%;"><span style="display: block; margin: 0 0 0 0; padding:0 0 2px 5px; ">pan of writer: {{writer_pan}}</span></td>
    </tr>
     <tr>
      <td width="50%" style="padding: 0 0 0 0;margin: 0 0 0 0; width: 45%;"><span style="margin: 0 0 0 0; padding:0 0 2px 5px;">Pan: AABCH3165P</span></td>
      <td width="50%" style="padding: 0 0 0 0;margin: 0 0 0 0; width: 45%;"><span style="display: block; margin: 0 0 0 0; padding:0 0 2px 5px; ">gstin of writer: {{writer_gstin}}</span></td>
    </tr>
     <tr>
      <td width="50%" style="padding: 0 0 0 0;margin: 0 0 0 0; width: 45%;"><span style="margin: 0 0 0 0; padding:0 0 2px 5px;">Gst No: 07AABCH3165P2Z8</span></td>
      <td width="50%" style="padding: 0 0 0 0;margin: 0 0 0 0; width: 45%;"><span style="display: block; margin: 0 0 0 0; padding:0 0 2px 5px; ">address of writer: {{writer_address}}</span></td>
    </tr>
</table>
    </td>
      </tr>
</table>
  </td>
    </tr>


    {% for oi in item_list %}

    {% if forloop.counter0|divisibleby:20 %}
    <tr>
      <td height="20"></td>
    </tr>
    <tr>
      <td>

    <table width="100%" border="0" cellspacing="0" cellpadding="0" style="border: solid 1px #000; width: 90%;margin-right: 5px; padding: 0;">

    <tr>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0; width:5%"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">S.No</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0; width:15%"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">Item Id</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0; width:40%"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">Product Name</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; width:10%">Closed On</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0; width:15%"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">Combo Discount</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;margin: 0; width:15%"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">Amount</span></td>
    </tr>
    {% endif %}


    <tr>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;" width="5%"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{forloop.counter}}</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;" width="15%">{% if oi.item_type == 'older' %}<span style="color:red; float:left;">* </span>{% endif %}<span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{oi.item_id}}</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;word-break: break-all;" width="40%"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{oi.product_name}}</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;" width="10%"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{oi.closed_on|date:"d M Y"}}</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;" width="15%"> <span style="display: block; margin:0; padding:3px 0 3px 5px; ">-{% if oi.combo_discount %} {{oi.combo_discount}}{% endif %}</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;margin: 0;" width="15%"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{oi.amount}}</span></td>
    </tr>

    {% if forloop.last %}
      <tr>
        <td colspan="4" style="padding:0;text-align: center; border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; "><strong>Sub Total</strong></span></td>
        <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">-{% if total_combo_discount%} {{total_combo_discount}}{% endif %}</span></td>
        <td style="padding:0;border-bottom: solid 1px #000;margin: 0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{sub_total}}</span></td>
      </tr>
      {% if incentive or penalty %}
      <tr>
        <td colspan="4" style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0; text-align: center;"><strong><span style="display: block; margin:0; padding:3px 0 3px 5px; ">Total</span></strong></td>
        <td colspan="2" style="padding:0; border-bottom: solid 1px #000; text-align: center;margin: 0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{total}}</span></td>
      </tr>
      {% endif %}
      {% if incentive or penalty %}
      <tr>
        <td colspan="4" style="padding:0; border-bottom: solid 1px #000; border-right: solid 1px #000; margin:0; text-align: center;"><strong>
          <span style="display: block; margin:0; padding:3px 0 3px 5px; ">
            {% if incentive %}
              Incentive @ {{incentive_per}}%
            {% elif penalty %}
              Penalty @ {{penalty_per}}%
            {%endif%}
          </span></strong>
        </td>
        <td colspan="2" style="padding:0; border-bottom: solid 1px #000; text-align: center;margin: 0;">
          <span style="display: block; margin:0; padding:3px 0 3px 5px; ">
            {% if incentive %}
              + {{incentive}}
            {% elif penalty %}
              - {{penalty}}
            {% endif %}
          </span>
        </td>
      </tr>
      {% endif %}
      <tr>
        <td colspan="4" style="padding:0;border-right: solid 1px #000; margin:0; text-align: center;"><strong><span style="display: block; margin:0; padding:3px 0 3px 5px; ">Total Payable</span></strong></td>
        <td colspan="2" style="padding:0; text-align: center;margin: 0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{total_payable}}</span></td>
      </tr>
    {% endif %}

{% if forloop.counter|divisibleby:20 or forloop.last %}
</table>

  </td>
    </tr>
{% endif %}

  {% endfor %}




{% comment %}
<tr>
      <td height="20"></td>
    </tr>
    <tr>
      <td>

    <table width="100%" border="0" cellspacing="0" cellpadding="0" style="border: solid 1px #000; width: 90%;margin-right: 5px; padding: 0;">
    <tr>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">S.No</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">Order Item Id</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">Product Name</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">Closure Date</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">Combo Discount</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;margin: 0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">Amount</span></td>
    </tr>
    {% for oi in item_list %}
    <tr>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{forloop.counter}}</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;">{% if oi.item_type == 'older' %}<span style="color:red; float:left;">* </span>{% endif %}<span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{oi.item_id}}</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{oi.product_name}}</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{oi.closed_on|date:"d M Y"}}</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"> <span style="display: block; margin:0; padding:3px 0 3px 5px; ">-{% if oi.combo_discount %} {{oi.combo_discount}}{% endif %}</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;margin: 0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{oi.amount}}</span></td>
    </tr>
    {% endfor %}


    {% for oi in "aksjjkasakaskdjl" %}
    <tr>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{forloop.counter}}</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;">{% if oi.item_type == 'older' %}<span style="color:red; float:left;">* </span>{% endif %}<span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{oi.item_id}}</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{oi.product_name}}</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{oi.closed_on|date:"d M Y"}}</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"> <span style="display: block; margin:0; padding:3px 0 3px 5px; ">-{% if oi.combo_discount %} {{oi.combo_discount}}{% endif %}</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;margin: 0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{oi.amount}}</span></td>
    </tr>
    {% endfor %}

    <tr>
      <td colspan="4" style="padding:0;text-align: center; border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; "><strong>Sub Total</strong></span></td>
      <td style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">-{% if total_combo_discount%} {{total_combo_discount}}{% endif %}</span></td>
      <td style="padding:0;border-bottom: solid 1px #000;margin: 0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{sub_total}}</span></td>
    </tr>
    {% if incentive or penalty %}
    <tr>
      <td colspan="4" style="padding:0;border-bottom: solid 1px #000;border-right: solid 1px #000; margin:0; text-align: center;"><strong><span style="display: block; margin:0; padding:3px 0 3px 5px; ">Total</span></strong></td>
      <td colspan="2" style="padding:0; border-bottom: solid 1px #000; text-align: center;margin: 0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{total}}</span></td>
    </tr>
    {% endif %}
    {% if incentive or penalty %}
    <tr>
      <td colspan="4" style="padding:0; border-bottom: solid 1px #000; border-right: solid 1px #000; margin:0; text-align: center;"><strong>
        <span style="display: block; margin:0; padding:3px 0 3px 5px; ">
          {% if incentive %}
            Incentive @ {{incentive_per}}%
          {% elif penalty %}
            Penalty @ {{penalty_per}}%
          {%endif%}
        </span></strong>
      </td>
      <td colspan="2" style="padding:0; border-bottom: solid 1px #000; text-align: center;margin: 0;">
        <span style="display: block; margin:0; padding:3px 0 3px 5px; ">
          {% if incentive %}
            + {{incentive}}
          {% elif penalty %}
            - {{penalty}}
          {% endif %}
        </span>
      </td>
    </tr>
    {% endif %}
    <tr>
      <td colspan="4" style="padding:0;border-right: solid 1px #000; margin:0; text-align: center;"><strong><span style="display: block; margin:0; padding:3px 0 3px 5px; ">Total Payable</span></strong></td>
      <td colspan="2" style="padding:0; text-align: center;margin: 0;"><span style="display: block; margin:0; padding:3px 0 3px 5px; ">{{total_payable}}</span></td>
    </tr>
</table>


  </td>
    </tr>

{% endcomment %}







    <tr>
      <td height="20"></td>
    </tr>
    <tr>
      <td>
    <table width="100%" border="0" cellspacing="0" cellpadding="0" style="text-transform: uppercase; border: solid 1px #000;width: 90%;margin-right: 5px; padding: 0;">
    <tr>
      <td width="33.3%" style="padding: 0;border-right: solid 1px #000;width: 33.3%;margin: 0;"><span style="display: block; margin:0; padding:5px 0 5px 5px; ">Place</span></td>
      <td width="33.3%" style="padding: 0;border-right: solid 1px #000;width: 33.3%;margin: 0;"><span style="display: block; margin:0; padding:5px 0 5px 5px; ">Date</span></td>
      <td width="33.3%" style="padding: 0; width: 33.3%;margin: 0;"><span style="display: block; margin:0; padding:5px 0 5px 5px; ">Sign</span></td>
    </tr>
</table>
  </td>
    </tr>
    <tr>
      <td height="20"></td>
    </tr>
</table>
</body>
</html>