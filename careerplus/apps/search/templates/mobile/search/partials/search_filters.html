{% load humanize search_tags %}

<form action="{{searchquery}}" id="form_facets">
    <input type="hidden" name="page" id="id_page" value="1"/>
    <input type="hidden" name="sort" id="id_sort" value="{{search_params.sort}}"/>
    <input type="hidden" name="q" id="id_p_q" value="{{search_params.q}}"/>
    <input type="hidden" name="area" id="id_p_area" value="{{search_params.area}}"/>
    <input type="hidden" name="skills" id="id_p_skills" value="{{search_params.skills}}"/>
    <input type="hidden" name="search_type" id="id_search_type" value="{{search_type}}"/>
    <input type="hidden" name="rcount" id="id_rcount" value="{{paginator.num_pages}}"/>
    <input type="hidden" name="rstart" id="id_rstart" value="{{ page.number }}"/>
    <div class="sidebar-filter js_sidebar_filter show_hide_filter" id="sidebar-filter" style="display: none;">
        <header class="filter-menu">
            <div class="text-center">
                <a class="icon-close pull-left js_close_filter" href="#"></a>
                <strong>Filters</strong>
                <a class="pull-right js_clear_filters" href="javascript:void(0)">Clear</a>
            </div><!-- / Left side Icon ends here -->
        </header><!-- header ends here -->
        <div class="vertical-tabbing">
            <div class="tab-container pb-100">
        <ul class="tabs box-panel p-0">
            {% if facets.pFA|length %}
                <li class="current" data-tab="tab-1"><a href="#">Functional Area</a></li>
            {% endif %}
            
            {% if facets.pCL|length %}
                <li data-tab="tab-2"><a href="#">Course Level</a></li>
            {% endif %}
            
            {% if facets.pCert|length %}
                <li data-tab="tab-3"><a href="#">Learning Options</a></li>
            {% endif %}

            {% if facets.pVid|length %}
                <li data-tab="tab-4"><a href="#">Vendor</a></li>
            {% endif %}

            {% if facets.pDM|length %}
                <li data-tab="tab-5"><a href="#">Duration</a></li>
            {% endif %}
            
            {% if facets.pStM|length %}
                <li data-tab="tab-6"><a href="#">Study Mode</a></li>
            {% endif %}
            
            {% if facets.pAR|length %}
                <li data-tab="tab-7"><a href="#">Rating</a></li>
            {% endif %}
            
            {% if facets.pPinr|length %}
                <li data-tab="tab-8"><a href="#">Price</a></li>
            {% endif %}
        </ul>

        <!-- Tab content Satrts here -->
        <div class="tab-container js_filter_container">
            {% if facets.pFA|length %}
            <div id="tab-1" class="tab-content current">
                <ul id="farea_filters">
                    {% if facets.pFA|length == 1 %}
                        <li>
                            <input type="checkbox" id="test11" {% if areaf %}name="farea" {% else %}name="ign_farea"{% endif %}
                                   value="{{facets.pFA.0.id}}" checked="checked" disabled="disabled">
                            <label for="test11" class="c9">{{facets.pFA.0.label}} ({{facets.pFA.0.count}})</label>
                        </li>
                    {% else %}
                        {% for facet in facets.pFA|slice:"15" %}
                            <li>
                                <input type="checkbox" class="check{{ forloop.counter }}" id="test1{{ forloop.counter }}" name="farea"
                                       value="{{facet.id}}" {% if facet.label == 'Others' %}{% if facet.id in areaf %}checked="checked"{% endif %} {% else %}{% if facet.id|stringformat:"i" in areaf %}checked="checked" {% endif %} {% endif %}>
                                <label for="test1{{ forloop.counter }}">{{facet.label}} ({{facet.count}})</label>
                            </li>
                        {% endfor %}
                    {% endif %}
                </ul>
            </div><!-- Tab content ends here -->
            {% endif %}
            {% if facets.pCL|length %}
            <div id="tab-2" class="tab-content">
            <ul>
                {% if facets.pCL|length == 1 %}
                    <li>
                        <input type="checkbox" {% if clevel %}name="fclevel" {% else %}name="ign_fclevel"{% endif %}
                                   value="{{facets.pCL.0.id}}" checked="checked" disabled="disabled" id="test21">
                        <label for="test21" class="c9">{{facets.pCL.0.label}} ({{facets.pCL.0.count}})</label>
                    </li>
                {% else %}
                    {% for facet in facets.pCL|slice:"15" %}
                        <li>
                            <input type="checkbox" name="fclevel" id="test2{{ forloop.counter }}"
                                   value="{{facet.id}}" {% if facet.id in clevel %}checked="checked" {% endif %}>
                            <label for="test2{{ forloop.counter }}">{{facet.label}} ({{facet.count}})</label>
                        </li>
                    {% endfor %}
                {% endif %}
            </ul>
            </div><!-- Tab content ends here -->
            {% endif %}

            {% if facets.pCert|length %}
            <div id="tab-3" class="tab-content">
                <ul>
                {% if facets.pCert|length == 1 %}
                <li>
                    <input type="checkbox" {% if cert %}name="fcert" {% else %}name="ign_fcert"{% endif %}
                               value="{{facets.pCert.0.id}}" id="test31" checked="checked" disabled="disabled">
                    <label for="test31" class="c9">
                        {{facets.pCL.0.label}} ({{facets.pCert.0.count}})</label>
                </li>
                {% else %}
                    {% for facet in facets.pCert|slice:"15" %}
                        <li>
                            <input type="checkbox" name="fcert" id="test3{{ forloop.counter }}"
                                   value="{{facet.id}}" {% if facet.0 in cert %}checked="checked" {% endif %}>
                            <label for="test3{{ forloop.counter }}">{{facet.label}} ({{facet.count}})</label>
                        </li>
                    {% endfor %}
                {% endif %}
                </ul>
            </div><!-- Tab content ends here -->
            {% endif %}

            {% if facets.pVid|length %}
            <div id="tab-4" class="tab-content">
                <ul>
                {% if facets.pVid|length == 1 %}
                <li>
                    <input type="checkbox" {% if vid %}name="fvid" {% else %}name="ign_fvid"{% endif %}
                               value="{{facets.pVid.0.id}}" id="test41" checked="checked" disabled="disabled">
                    <label for="test41" class="c9">
                        {{facets.pVid.0.label}} ({{facets.pVid.0.count}})</label>
                </li>
                {% else %}
                    {% for facet in facets.pVid|slice:"15" %}
                        <li>
                            <input type="checkbox" name="fvid" id="test4{{ forloop.counter }}"
                                   value="{{facet.id}}" {% if facet.id|stringformat:'i' in vid %}checked="checked" {% endif %}>
                            <label for="test4{{ forloop.counter }}">{{facet.label}} ({{facet.count}})</label>
                        </li>
                    {% endfor %}
                {% endif %}
                </ul>
            </div><!-- Tab content ends here -->
            {% endif %}

            {% if facets.pDM|length %}
            <div id="tab-5" class="tab-content">
            <ul>
                {% if facets.pDM|length == 1 %}
                    <li>
                        <input type="checkbox" {% if duration %}name="fduration" {% else %}name="ign_fduration"{% endif %}
                                   value="{{facets.pDM.0.id}}" id="test51" checked="checked" disabled="disabled">
                        <label for="test51" class="c9">
                            {{facets.pDM.0.label}} ({{facets.pDM.0.count}})
                        </label>
                    </li>
                {% else %}
                    {% for facet in facets.pDM|slice:"15" %}
                        <li>
                            <input type="checkbox" name="fduration" id="test5{{ forloop.counter }}"
                                   value="{{facet.id}}" {% if facet.id in duration %}checked="checked" {% endif %}>
                            <label for="test5{{ forloop.counter }}">{{facet.label}} ({{facet.count}})</label>
                        </li>
                    {% endfor %}
                {% endif %}
            </ul>
            </div><!-- Tab content ends here -->
            {% endif %}
            
            {% if facets.pStM|length %}
            <div id="tab-6" class="tab-content">
            <ul>
                {% if facets.pStM|length == 1 %}
                <li>
                    <input type="checkbox" {% if mode %}name="fmode" {% else %}name="ign_fmode"{% endif %}
                               value="{{facets.pStM.0.id}}" id="test61" checked="checked" disabled="disabled">
                    <label for="test61" class="c9">
                        {{facets.pCL.0.label}} ({{facets.pStM.0.count}})</label>
                </li>
                {% else %}
                    {% for facet in facets.pStM|slice:"15" %}
                        <li>
                            <input type="checkbox" name="fmode" id="test6{{ forloop.counter }}"
                                   value="{{facet.id}}" {% if facet.id in mode %}checked="checked" {% endif %}>
                            <label for="test6{{ forloop.counter }}">{{facet.label}} ({{facet.count}})</label>
                        </li>
                    {% endfor %}
                {% endif %}
            </ul>
            </div><!-- Tab content ends here -->
            {% endif %}

            {% if facets.pAR|length %}

            <div id="tab-7" class="tab-content">
            <ul>
                {% for i in '54321' %}
                <li>
                <input name="frating" type="checkbox" id="test7{{ forloop.counter }}" {% if i in rating %}checked="checked"{% endif %}
                            {% if facets.pAR|length == 1 %}disabled="disabled"{% endif %} value="{{ i }}">
                <label for="test7{{ forloop.counter }}" {% if facets.pAR|length == 1 %}class="c9"{% endif %}>{{ i }} Star {% for facet in facets.pAR%}{% if facet.id|stringformat:'i' == i %}({{facet.count}}){% endif %}{% endfor %}</label>
                </li>
                {% endfor %}
            </ul>
            </div><!-- Tab content ends here -->
            {% endif %}

            {% if facets.pPinr|length %}
            <div id="tab-8" class="tab-content">
                <ul>
                    {% if facets.pPinr|length == 1 %}
                    <li>
                        <input type="checkbox" {% if price %}name="fprice" {% else %}name="ign_fprice"{% endif %}
                                   value="{{facets.pPinr.0.id}}" id="test81" checked="checked" disabled="disabled">
                        <label for="test81" class="c9">
                            {{facets.pPinr.0.label}} ({{facets.pPinr.0.count}})</label>
                    </li>
                    {% else %}
                        {% for facet in facets.pPinr|slice:"15" %}
                            <li>
                                <input type="checkbox" name="fprice" id="test8{{ forloop.counter }}"
                                value="{{facet.id}}" {% if facet.label == 'Others' %}{% if facet.id in price %}checked="checked"{% endif %} {% else %}{% if facet.id|stringformat:"i" in price %}checked="checked" {% endif %} {% endif %}>
                                <label for="test8{{ forloop.counter }}">{{facet.label}} ({{facet.count}})</label>
                            </li>
                        {% endfor %}
                    {% endif %}
                </ul>
            </div><!-- Tab content ends here -->
            {% endif %}
        </div>
      </div><!-- Tab container -->

        </div><!-- vertival tabing container ends here -->

        <a href="javascript:void(0)" class="btn-slg btn-blue block apply-bottom text-center js_apply_filter">Apply</a>
    </div>
</form>