{% extends "console/base_console.html" %}
{% load static compress %}
{% load humanize %}
{% load console_tags %}
{% block title %}
  <title>Change Products</title>
{% endblock title %}

{% block css_block %}
  {{ block.super }}

  {% compress css %}
  <!-- Switchery -->
  <link href="{% static 'packages/switchery/dist/switchery.min.css' %}" rel="stylesheet" type="text/css">
  <link type="text/css" href="{% static 'console/css/myadmin/django-admin-widgets.css' %}" rel="stylesheet">
  <link href="{% static 'packages/bootstrap-daterangepicker/daterangepicker.css' %}"
  rel="stylesheet" type="text/css">
  <!-- ColorSelector -->
  <link href="{% static 'packages/bootstrap-colorselector/dist/bootstrap-colorselector.min.css' %}" rel="stylesheet" type="text/css">
  {% endcompress %}

  {% compress css inline %}
  <style type="text/css">
    ul.parsley-errors-list {
        list-style: none;
        color: #fff;
        padding-left: 0;
    }
    ul.errorlist {
        list-style: none;
        color: #fff;
        padding-left: 0;
    }
    .empty-form{
      display: none;
    }
     #benefits{
      height: 310px;
      overflow-y: scroll;
      border: 1px solid #d7cdcd;
    }
    #benefits > ul > li {
      width: 32%;
      margin: 0px 1px;
      display: inline-block;
    }
    #id_benefits > li > label > img{
      width: 60px;
      height: 60px;

    }
    #benefits {
      text-align: center;
    }
    #benefits > span > img{
      width: 60px;
      height: 60px;
    }
    #application_processes > span {
        margin: 0 40px;
    }
    #id_application_process {
      margin-top: 10px;
    }
    #application_process > ul > li >label  >input {
      width: 15px;
    }
     #application_process > ul > li >label {
      text-align: center;
      vertical-align: middle;
      margin: 12px 0px;
     }
    .selected_process_img{
       width: 60px;
      height: 60px;
    }

    #application_process{
      height: 203px;
      overflow-y: scroll;
      border: 1px solid #d7cdcd;
    }
    #application_process > ul > li {
      width: 32%;
      margin: 0px 1px;
      display: inline-block;
    }
    #id_application_process > li > label > img{
      width: 60px;
      height: 60px;

    }
    #selected_benefits {
      text-align: center;
    }
    #selected_benefits > span > img{
      width: 60px;
      height: 60px;
    }
    #selected_benefits > span {
        margin: 0 40px;
    }
    #id_benefits {
      margin-top: 10px;
    }
    #benefits > ul > li >label  >input {
      width: 15px;
    }
     #benefits > ul > li >label {
      text-align: center;
      vertical-align: middle;
      margin: 12px 0px;
     }
    .selected_benefit_img{
       width: 60px;
      height: 60px;
    }
    #application_processes > .exe-application-process {
      border: 1px solid #d7cdcd;
      padding: 10px 10px;
      min-height: 122px;
    }
    #selected_benefits > .exe-application-process {
      border: 1px solid #d7cdcd;
      padding: 10px 10px;
      min-height: 122px;
    }

    .tag:after{
      display: none;
    }
    
  </style>
  {% endcompress %}
                
{% endblock css_block %}


{% block pagecontent %}
        <!-- page content -->
<div class="right_col" role="main">
  <div class="">
    <div class="page-title">
      <div class="title_left">
        <h3></h3>
      </div>

    </div>
    <div class="clearfix"></div>
    <div class="row top_tiles">
      {% if object.type_product == 1 %}
        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
          <a class="btn btn-app" href="{% url "console:screenproductvariant-add" object.pk  %}">
            <i class="fa fa-code-fork"></i> Add Product Variants</a>
        </div>
      {% endif %}
      {% if object.status == 2 %}
    
        {% if request.user|has_group:PRODUCT_GROUP_LIST %}
            <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12" >
              <a class="btn btn-app click-modal" data-msg="live">
                <i class="fa fa-copy"></i> Copy to Live</a>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12" >
              <a class="btn btn-app click-modal"  data-msg="reject">
                <i class="fa fa-ban"></i> Reject Changes</a>
            </div>
              
            <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12" >
              <a class="btn btn-app click-modal" data-msg="revert">
                <i class="fa fa-backward"></i> Revert Changes</a>
            </div>
            
        {% else %}  
          <div class="row top_tiles">
            <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
              <a class="btn btn-app click-modal" data-msg="approval">
                <i class="fa fa-paper-plane-o"></i> Send for Approval</a>
            </div>
          </div>
        {% endif %}
      {% else %}
        <div class="row top_tiles">
          <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
            <a class="btn btn-app click-modal" data-msg="approval">
              <i class="fa fa-paper-plane-o"></i> Send for Approval</a>
          </div>
        </div>
    {% endif %}
    </div>

    <form class="form-horizontal form-label-left" method="POST" novalidate id="approval-form">
      {% csrf_token %}
      <input type="hidden" name="screenproduct" value="{{object.pk}}">
      <input type="hidden" name="action" value="">
    </form>
    
    <div id="alertModal" class="modal fade in" tabindex="-1" role="dialog" aria-hidden="true" style="display: none;">
      <div class="modal-dialog modal-sm">
        <div class="modal-content">

          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span>
            </button>
            <h4 class="modal-title" id="alertModalTitle">Alert!</h4>
          </div>
          <div class="modal-body" id="alertModalBody">
            
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="alertModalOk" data-action="">Ok</button>
          </div>

        </div>
      </div>
    </div>
    <div class="clearfix"></div>



    <div class="row">
      <div class="col-md-12 col-sm-12 col-xs-12">
        {% if messages %}
            {% for message in messages %}

              <div{% if message.tags %} class="alert alert-{{ message.tags }} alert-dismissable"{% endif %}>
              <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>

              {{ message }}
              </div>
            {% endfor %}
        {% endif %}

      </div>
    </div>
    

    <div class="clearfix"></div>

    <div class="row">
      <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i> Main</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
               <form class="form-horizontal form-label-left" method="POST" action="." novalidate id="change-product-form">
                    {{form.media}}
                    {% csrf_token %}
                    {% if form.non_field_errors %}
                      <div class="alert alert-danger alert-dismissible fade in" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                        </button>
                        {{form.non_field_errors}}
                      </div>
                    {% endif %}

                    <div class="item form-group">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="">Modified</label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        <label style="padding-top:8px;">{{object.modified|naturaltime}}</label>
                      </div>
                    </div>


                    <div class="item form-group {% if form.name.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.name.id_for_label }}">Name <span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{form.name}}
                      </div>
                      <div class="alert">{{form.name.errors}}</div>
                    </div>

                    <div class="item form-group">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="">Slug</label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        <label style="padding-top:8px;">{{object.slug}}</label>
                      </div>
                    </div>

                    <div class="item form-group {% if form.product_class.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="">Class</label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        <label style="padding-top:8px;">{{object.product_class.name}}</label>
                      </div>
                    </div>

                    <div class="item form-group {% if form.type_product.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.type_product.id_for_label }}">Type </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        <label style="padding-top:8px;">{{object.get_type}}</label>
                      </div>
                    </div>

                    <div class="item form-group {% if form.upc.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.upc.id_for_label }}">UPC <span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{form.upc}}
                      </div>
                      <div class="alert">{{form.upc.errors}}</div>
                    </div>

                    
                    {% if form.about %}
                    <div class="item form-group {% if form.about.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.about.id_for_label }}">About <span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{form.about}}
                      </div>
                      <div class="alert">{{form.about.errors}}</div>
                    </div>
                    {% endif  %}
                    <div class="item form-group {% if form.description.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.description.id_for_label }}">Description <span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{form.description}}
                      </div>
                      <div class="alert">{{form.description.errors}}</div>
                      <br>
                      <br>
                      <div class="col-md-7 col-sm-7 col-xs-12 col-md-offset-2 text-center">
                        <button type="button" id="suggestion_skill_btn" class="btn btn-success">View Skill Suggestions</button>
                      </div>
                    </div>
                    <div class="item form-group">
                      <div class=" item col-md-7 col-sm-7 col-xs-12 col-md-offset-2 text-center">
                        <div>
                          <p id="suggestion_box">

                          </p>
                        </div>
                      </div>
                    </div>
                    {% if form.buy_shine %}
                    <div class="item form-group {% if form.buy_shine.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.buy_shine.id_for_label }}">What u'll get <span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{form.buy_shine}}
                      </div>
                      <div class="alert">{{form.buy_shine.errors}}</div>
                    </div>
                    {% endif %}

                    <input type="hidden" name="product" value="{{object.pk}}">
                    <input type="hidden" name="slug" value="main">
                    
                    <div class="ln_solid"></div>
                    <div class="form-group">
                      <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                        <button type="submit" class="btn btn-success save_scroll">Submit</button>
                      </div>
                    </div>
                  </form>
                     
          </div>
        </div>
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i> Attribute</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
               <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-attribute-form">
                  {% csrf_token %}
                    
                    {% if attribute_form.non_field_errors %}
                      <div class="alert alert-danger alert-dismissible fade in" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                        </button>
                        {{attribute_form.non_field_errors}}
                      </div>
                    {% endif %}

                    {% for field in attribute_form %}
                        {% if 'attribute' in field.id_for_label %}
                            {% include "console/vendor/form_field.html" %}
                        {% endif %}
                    {% endfor %}
                    

                    <div class="item form-group {% if attribute_form.comment.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ attribute_form.comment.id_for_label }}">Comment <span class="required"></span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{attribute_form.comment}}
                      </div>
                      <div class="alert" style="margin-left:100px;">{{attribute_form.comment.errors}}</div>
                    </div>

                    <input type="hidden" name="product" value="{{object.pk}}">
                    <input type="hidden" name="slug" value="attribute">
                    <div class="ln_solid"></div>
                    <div class="form-group">
                      <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                        <button type="submit" class="btn btn-success save_scroll">Submit</button>
                      </div>
                    </div>
                  </form>
              
          </div>
        </div>
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i> Program Structure</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
            <div class="accordion" id="accordion3" role="tablist" aria-multiselectable="true">
                    <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-faq-form">
                          {% csrf_token %}
                          {{ prdchapter_formset.management_form }}
                      {% if prdchapter_formset.non_form_errors %}
                        <div class="alert alert-danger alert-dismissible fade in" role="alert">
                          <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                          </button>
                          {{ prdchapter_formset.non_form_errors }}
                        </div>
                      {% endif %}
                    <div class="inter-related-parent-div">    
                    {% for inline_admin_form in prdchapter_formset.forms %}
                    <div class="panel {% if forloop.last %} {% endif %}">
                      <a class="panel-heading {% if not inline_admin_form.errors %}collapsed{% endif %}" role="tab" id="heading3{{forloop.counter}}" data-toggle="collapse" data-parent="#accordion3" href="#collapse3{{forloop.counter}}" aria-expanded="false" aria-controls="collapse3{{forloop.counter}}">
                        {% if  inline_admin_form|get_instance %}
                        <h4 class="panel-title">{{inline_admin_form|get_instance}}</h4>

                        {% else %}
                        <h4 class="panel-title">Add New
                        </h4>{% endif %}

                          
                      </a>
                      <div id="collapse3{{forloop.counter}}" class="panel-collapse collapse {% if  inline_admin_form.errors %}in{% endif %}" role="tabpanel" aria-labelledby="heading3{{forloop.counter}}" {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false" style="height: 0px;"{% endif %}>
                        <div class="panel-body">
                            {% if  inline_admin_form.DELETE %}
                              <div class="pull-left">
                                {{inline_admin_form.DELETE}}<label for="{{ inline_admin_form.DELETE.id_for_label }}" style="color:#d9534f !important;">&nbsp;&nbsp;Delete
                                </label>
                                
                              </div>
                              </br>
                                <div class="clearfix"></div>
                            {% endif %}

                            {% for hidden in inline_admin_form.hidden_fields %}
                                {{ hidden }}
                            {% endfor %}
                        
                          <div class="item form-group {% if inline_admin_form.heading.errors %}bad{% endif %}">
                            <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.heading.id_for_label }}">Heading <span class="required">*</span>
                            </label>
                            <div class="col-md-7 col-sm-7 col-xs-12">
                              {{inline_admin_form.heading}}
                            </div>
                            <div class="alert">{{inline_admin_form.heading.errors}}</div>
                          </div>
                          <div class="item form-group {% if inline_admin_form.answer.errors %}bad{% endif %}">
                            <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.answer.id_for_label }}">Content <span class="required"></span>
                            </label>
                            <div class="col-md-7 col-sm-7 col-xs-12">
                              {{inline_admin_form.answer}}
                            </div>
                            <div class="alert">{{inline_admin_form.answer.errors}}</div>
                          </div>
                          
                          <div class="item form-group {% if inline_admin_form.status.errors %}bad{% endif %}">
                            <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.status.id_for_label }}">Active <span class="required"></span>
                            </label>
                            <div class="col-md-7 col-sm-7 col-xs-12">
                              {{inline_admin_form.status}}
                            </div>
                            <div class="alert">{{inline_admin_form.status.errors}}</div>
                          </div>
                          
                          <div class="item form-group {% if inline_admin_form.ordering.errors %}bad{% endif %}">
                            <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.ordering.id_for_label }}">Sort Order <span class="required"></span>
                            </label>
                            <div class="col-md-7 col-sm-7 col-xs-12">
                              {{inline_admin_form.ordering}}
                            </div>
                            <div class="alert">{{inline_admin_form.ordering.errors}}</div>
                          </div>
                          

                        </div>
                      </div>
                    </div>
                    {% endfor %}
                    </div>
                   

                    <input type="hidden" name="product" value="{{object.pk}}">
                      <input type="hidden" name="slug" value="chapter">
                      <div class="ln_solid"></div>
                      <div class="form-group">
                        <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                          <button type="submit" class="btn btn-success save_scroll">Submit</button>
                        </div>
                      </div>
                    
                    </form>
                  </div>  
          </div>
        </div>

        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i> Skill</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
            <div class="accordion" id="accordion3" role="tablist" aria-multiselectable="true">
                    <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" >
                          {% csrf_token %}
                          <!-- {{ prdchapter_form.management_form }} -->
                      {% if prdskill_form.non_form_errors %}
                        <div class="alert alert-danger alert-dismissible fade in" role="alert">
                          <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                          </button>
                          {{ prdchapter_form.non_form_errors }}
                        </div>
                      {% endif %}
                      <div class="form-group col-md-6">
                        <label> Product Skills</label>
                        {{ prdskill_form.product_skill }}
                        <button type="button" class="copy-tag" data-copy-tag-id="id_product_skill">Copy</button>
                      </div>
                      <div class="form-group">
                        <label> User Skills</label>
                          {{ prdskill_form.required_skill }}
                        <button type="button" class="copy-tag" data-copy-tag-id="id_required_skill">Copy</button>
                      </div>
                  
                    <input type="hidden" name="product" value="{{object.pk}}">
                      <input type="hidden" name="slug" value="skill">
                      <div class="ln_solid"></div>
                      <div class="form-group">
                        <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                          <button type="submit" class="btn btn-success save_scroll">Submit</button>
                        </div>
                      </div>
                    
                    </form>
                  </div>  
          </div>
        </div>
        
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i>Available Countries</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
              <form class="form-horizontal form-label-left" method="POST" action="." novalidate id="change-product-country-form">
                {{country_form.media}}
                {% csrf_token %}
                  
                  {% if country_form.non_field_errors %}
                    <div class="alert alert-danger alert-dismissible fade in" role="alert">
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                      </button>
                      {{country_form.non_field_errors}}
                    </div>
                  {% endif %}

                  <div class="item form-group {% if country_form.countries.errors %}bad{% endif %}">
                    <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ country_form.countries.id_for_label }}">Countries Visible <span class="required">*</span>
                    </label>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                      {{country_form.countries}}
                    </div>
                    <div class="alert" >{{country_form.countries.errors}}</div>
                  </div>
                  
                  
                  <input type="hidden" name="product" value="{{object.pk}}">
                  <input type="hidden" name="slug" value="country">
                  <div class="ln_solid"></div>
                  <div class="form-group">
                    <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                      <button type="submit" class="btn btn-success save_scroll">Submit</button>
                    </div>
                  </div>
                </form>
         
          </div>
        </div>
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i>Prices</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
              <form class="form-horizontal form-label-left" method="POST" action="." novalidate id="change-product-price-form">
                {{price_form.media}}
                {% csrf_token %}
                <p>Products prices is dependent on visible countries. Please make sure to add prices on change of existing countries.
                </p>
                
                {% if price_form.non_field_errors %}
                  <div class="alert alert-danger alert-dismissible fade in" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                    </button>
                    {{price_form.non_field_errors}}
                  </div>
                {% endif %}

                <div class="item form-group {% if price_form.inr_price.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ price_form.inr_price.id_for_label }}">(<i class="fa fa-inr"></i>)&nbsp;INR Price&nbsp;<span class="required">*</span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{price_form.inr_price}}
                  </div>
                  <div class="alert">{{price_form.inr_price.errors}}</div>
                </div>
                <div class="item form-group {% if price_form.fake_inr_price.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ price_form.fake_inr_price.id_for_label }}">(<i class="fa fa-inr"></i>)&nbsp;Fake INR Price&nbsp;<span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{price_form.fake_inr_price}}
                  </div>
                  <div class="alert">{{price_form.fake_inr_price.errors}}</div>
                </div>

                <div class="item form-group {% if price_form.usd_price.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ price_form.usd_price.id_for_label }}">(<i class="fa fa-usd"></i>)&nbsp;USD Price&nbsp; <span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{price_form.usd_price}}
                  </div>
                  <div class="alert">{{price_form.usd_price.errors}}</div>
                </div>
                <div class="item form-group {% if price_form.fake_usd_price.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ price_form.fake_usd_price.id_for_label }}">(<i class="fa fa-usd"></i>)&nbsp;Fake USD Price&nbsp;<span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{price_form.fake_usd_price}}
                  </div>
                  <div class="alert">{{price_form.fake_usd_price.errors}}</div>
                </div>

                <div class="item form-group {% if price_form.aed_price.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ price_form.aed_price.id_for_label }}">(<i class="fa fa-money"></i>)&nbsp;AED Price&nbsp;<span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{price_form.aed_price}}
                  </div>
                  <div class="alert">{{price_form.aed_price.errors}}</div>
                </div>
                <div class="item form-group {% if price_form.fake_aed_price.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ price_form.fake_aed_price.id_for_label }}">(<i class="fa fa-money"></i>)&nbsp;Fake AED Price&nbsp;<span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{price_form.fake_aed_price}}
                  </div>
                  <div class="alert">{{price_form.fake_aed_price.errors}}</div>
                </div>

                <div class="item form-group {% if price_form.gbp_price.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ price_form.gbp_price.id_for_label }}">(<i class="fa fa-gbp"></i>)&nbsp;GBP Price&nbsp;<span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{price_form.gbp_price}}
                  </div>
                  <div class="alert">{{price_form.gbp_price.errors}}</div>
                </div>
                <div class="item form-group {% if price_form.fake_gbp_price.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ price_form.fake_gbp_price.id_for_label }}">(<i class="fa fa-gbp"></i>)&nbsp;Fake GBP Price&nbsp;<span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{price_form.fake_gbp_price}}
                  </div>
                  <div class="alert">{{price_form.fake_gbp_price.errors}}</div>
                </div>

                <input type="hidden" name="product" value="{{object.pk}}">
                <input type="hidden" name="slug" value="price">
                <div class="ln_solid"></div>
                <div class="form-group">
                  <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                    <button type="submit" class="btn btn-success save_scroll">Submit</button>
                  </div>
                </div>
                </form>
              
          </div>
        </div>
        {% if object.type_product == 1 %}
        {% if prdvars_formset.forms %}
            
          <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i>Variations</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
                <div class="accordion" id="accordion1" role="tablist" aria-multiselectable="true">
                  <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-price-form">
                        {% csrf_token %}
                        {{ prdvars_formset.management_form }}
                    {% if prdvars_formset.non_form_errors %}
                      <div class="alert alert-danger alert-dismissible fade in" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                        </button>
                        {{ prdvars_formset.non_form_errors }}
                      </div>
                    {% endif %}
                  <div class="inter-related-parent-div">    
                  {% for inline_admin_form in prdvars_formset.forms %}
                  <div class="panel {% if forloop.last %} {% endif %}">
                    <a class="panel-heading {% if not inline_admin_form.errors %}collapsed{% endif %}" role="tab" id="heading1{{forloop.counter}}" data-toggle="collapse" data-parent="#accordion1" href="#collapse1{{forloop.counter}}" aria-expanded="false" aria-controls="collapse1{{forloop.counter}}">
                      {% if  inline_admin_form|get_instance %}
                      <h4 class="panel-title">Variation Product:&nbsp;{{inline_admin_form|get_instance}}</h4>

                      {% endif %}

                        
                    </a>
                    <div id="collapse1{{forloop.counter}}" class="panel-collapse collapse {% if inline_admin_form.errors %}in{% endif %}" role="tabpanel" aria-labelledby="heading1{{forloop.counter}}" {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false" style="height: 0px;"{% endif %}>
                      <div class="panel-body">
                            <div class="pull-left">
                              <a href="{{inline_admin_form|get_edit_url}}" class="btn btn-info btn-xs"><i class="fa fa-pencil"></i> Edit </a>
                              
                            </div>
                            </br>
                            <div class="clearfix"></div>
                          {% if  inline_admin_form.DELETE %}
                            <div class="pull-left">
                              {{inline_admin_form.DELETE}}<label for="{{ inline_admin_form.DELETE.id_for_label }}" style="color:#d9534f !important;">&nbsp;&nbsp;Delete
                              </label>
                              
                            </div>
                            </br>
                              <div class="clearfix"></div>
                          {% endif %}

                          {% for hidden in inline_admin_form.hidden_fields %}
                              {{ hidden }}
                          {% endfor %}
                      
                        <div class="item form-group {% if inline_admin_form.active.errors %}bad{% endif %}">
                          <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.active.id_for_label }}">Active <span class="required"></span>
                          </label>
                          <div class="col-md-7 col-sm-7 col-xs-12">
                            {{inline_admin_form.active}}
                          </div>
                          <div class="alert">{{inline_admin_form.active.errors}}</div>
                        </div>
                        
                        <div class="item form-group {% if inline_admin_form.sort_order.errors %}bad{% endif %}">
                          <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.sort_order.id_for_label }}">Sort Order <span class="required"></span>
                          </label>
                          <div class="col-md-7 col-sm-7 col-xs-12">
                            {{inline_admin_form.sort_order}}
                          </div>
                          <div class="alert">{{inline_admin_form.sort_order.errors}}</div>
                        </div>
                        
                        
                      </div>
                    </div>
                  </div>
                  {% endfor %}
                  </div>
                 

                    <input type="hidden" name="product" value="{{object.pk}}">
                    <input type="hidden" name="slug" value="vars">
                    <div class="ln_solid"></div>
                    <div class="form-group">
                      <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                        <button type="submit" class="btn btn-success save_scroll">Submit</button>
                      </div>
                    </div>
                  
                  </form>
                </div>  
          </div>
        </div>
        {% endif %}       
        
        {%endif %}
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i> FAQ</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
            <div class="accordion" id="accordion2" role="tablist" aria-multiselectable="true">
                    <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-faq-form">
                          {% csrf_token %}
                          {{ prdfaq_formset.management_form }}
                      {% if prdfaq_formset.non_form_errors %}
                        <div class="alert alert-danger alert-dismissible fade in" role="alert">
                          <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                          </button>
                          {{ prdfaq_formset.non_form_errors }}
                        </div>
                      {% endif %}
                    <div class="inter-related-parent-div">    
                    {% for inline_admin_form in prdfaq_formset.forms %}
                    <div class="panel ">
                      <a class="panel-heading {% if not inline_admin_form.errors %}collapsed{% endif %}" role="tab" id="heading2{{forloop.counter}}" data-toggle="collapse" data-parent="#accordion2" href="#collapse2{{forloop.counter}}" {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false"{% endif %} aria-controls="collapse2{{forloop.counter}}">
                        {% if  inline_admin_form|get_instance %}
                        <h4 class="panel-title">FAQ:&nbsp;{{inline_admin_form|get_instance}}</h4>

                        {% else %}
                        <h4 class="panel-title">FAQ: Add New
                        </h4>{% endif %}

                          
                      </a>
                      <div id="collapse2{{forloop.counter}}" class="panel-collapse collapse
                      {% if inline_admin_form.errors %}in{% endif %}" 
                      {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false" style="height: 0px;"{% endif %}
                      role="tabpanel" aria-labelledby="heading2{{forloop.counter}}" >
                        <div class="panel-body">
                            {% if  inline_admin_form.DELETE %}
                              <div class="pull-left">
                                {{inline_admin_form.DELETE}}<label for="{{ inline_admin_form.DELETE.id_for_label }}" style="color:#d9534f !important;">&nbsp;&nbsp;Delete
                                </label>
                                
                              </div>
                              </br>
                                <div class="clearfix"></div>
                            {% endif %}

                            {% for hidden in inline_admin_form.hidden_fields %}
                                {{ hidden }}
                            {% endfor %}
                        
                            <div class="item form-group {% if inline_admin_form.question.errors %}bad{% endif %}">
                            <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.question.id_for_label }}">Question <span class="required">*</span>
                            </label>
                            <div class="col-md-7 col-sm-7 col-xs-12">
                              {{inline_admin_form.question}}
                            </div>
                            <div class="alert">{{inline_admin_form.question.errors}}</div>
                          </div>
                          
                          <div class="item form-group {% if inline_admin_form.active.errors %}bad{% endif %}">
                            <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.active.id_for_label }}">Active <span class="required"></span>
                            </label>
                            <div class="col-md-7 col-sm-7 col-xs-12">
                              {{inline_admin_form.active}}
                            </div>
                            <div class="alert">{{inline_admin_form.active.errors}}</div>
                          </div>
                          
                          <div class="item form-group {% if inline_admin_form.question_order.errors %}bad{% endif %}">
                            <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.question_order.id_for_label }}">Sort Order <span class="required"></span>
                            </label>
                            <div class="col-md-7 col-sm-7 col-xs-12">
                              {{inline_admin_form.question_order}}
                            </div>
                            <div class="alert">{{inline_admin_form.question_order.errors}}</div>
                          </div>
                          

                        </div>
                      </div>
                    </div>
                    {% endfor %}
                    </div>
                   

                    <input type="hidden" name="product" value="{{object.pk}}">
                      <input type="hidden" name="slug" value="faqs">
                      <div class="ln_solid"></div>
                      <div class="form-group">
                        <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                          <button type="submit" class="btn btn-success save_scroll">Submit</button>
                        </div>
                      </div>
                    
                    </form>
                  </div>  
          </div>
        </div>


        <!-- <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i> Skill</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
              <div class="accordion" id="accordion50" role="tablist" aria-multiselectable="true">
                <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-skill-form">
                      {% csrf_token %}
                      {{ prdskill_formset.management_form }}
                  {% if prdskill_formset.non_form_errors %}
                    <div class="alert alert-danger alert-dismissible fade in" role="alert">
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                      </button>
                      {{ prdskill_formset.non_form_errors }}
                    </div>
                  {% endif %}
                <div class="inter-related-parent-div"> 
                {% for inline_admin_form in prdskill_formset.forms %}
                <div class="panel {% if forloop.last %} {% endif %}">
                  <a class="panel-heading {% if not inline_admin_form.errors %}collapsed{% endif %}" role="tab" id="heading2{{forloop.counter}}60" data-toggle="collapse" data-parent="#accordion60" href="#collapse2{{forloop.counter}}60" {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false"{% endif %} aria-controls="collapse2{{forloop.counter}}60">
                    {% if  inline_admin_form|get_instance %}
                    <h4 class="panel-title">Skill:&nbsp;{{inline_admin_form|get_instance}}</h4>

                    {% else %}
                    <h4 class="panel-title">Skill: Add New
                    </h4>{% endif %}

                      
                  </a>
                  <div id="collapse2{{forloop.counter}}60" class="panel-collapse collapse
                      {% if inline_admin_form.errors %}in{% endif %}" 
                      {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false" style="height: 0px;"{% endif %}
                       role="tabpanel" aria-labelledby="heading2{{forloop.counter}}60">
                    <div class="panel-body">
                        {% if  inline_admin_form.DELETE %}
                          <div class="pull-left">
                            {{inline_admin_form.DELETE}}<label for="{{ inline_admin_form.DELETE.id_for_label }}" style="color:#d9534f !important;">&nbsp;&nbsp;Delete
                            </label>
                            
                          </div>
                          </br>
                            <div class="clearfix"></div>
                        {% endif %}

                        {% for hidden in inline_admin_form.hidden_fields %}
                            {{ hidden }}
                        {% endfor %}
                    
                        <div class="item form-group {% if inline_admin_form.skill.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.skill.id_for_label }}">Skill <span class="required">*</span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.skill}}
                        </div>
                        <div class="alert">{{inline_admin_form.skill.errors}}</div>
                      </div>
                      
                      <div class="item form-group {% if inline_admin_form.active.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.active.id_for_label }}">Active <span class="required"></span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.active}}
                        </div>
                        <div class="alert">{{inline_admin_form.active.errors}}</div>
                      </div>
                      
                      <div class="item form-group {% if inline_admin_form.priority.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.priority.id_for_label }}">Sort Order <span class="required"></span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.priority}}
                        </div>
                        <div class="alert">{{inline_admin_form.priority.errors}}</div>
                      </div>
                      

                    </div>
                  </div>
                </div>
                {% endfor %}
                </div>
               

                <input type="hidden" name="product" value="{{object.pk}}">
                  <input type="hidden" name="slug" value="skill">
                  <div class="ln_solid"></div>
                  <div class="form-group">
                    <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                      <button type="submit" class="btn btn-success save_scroll">Submit</button>
                    </div>
                  </div>
                
                </form>
              </div>    
          </div>
        </div> -->
        {% if prd_university_form %}
          <div class="x_panel">
            <div class="x_title">
              <h2><i class="fa fa-thumb-tack"></i> University Course Detail</h2>
              <ul class="nav navbar-right panel_toolbox">
                <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                </li>
              </ul>
              <div class="clearfix"></div>
            </div>
            <div class="x_content">
               <div class="accordion" id="accordion50" role="tablist" aria-multiselectable="true">
                  <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-university-course-form">
                        {% csrf_token %}
                    <div class="item form-group {% if prd_university_form.batch_launch_date.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                        Batch Launch Date<span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{prd_university_form.batch_launch_date}}
                      </div>
                      <div class="alert">{{prd_university_form.batch_launch_date.errors}}</div>
                    </div>
                    <div class="item form-group {% if prd_university_form.apply_last_date.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                        Apply Last Date<span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{prd_university_form.apply_last_date}}
                      </div>
                      <div class="alert">{{prd_university_form.apply_last_date.errors}}</div>
                    </div>
                    <div class="item form-group {% if prd_university_form.payment_deadline.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                        Payment Deadline<span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{prd_university_form.payment_deadline}}
                      </div>
                      <div class="alert">{{prd_university_form.payment_deadline.errors}}</div>
                    </div>
                    <div class="item form-group {% if prd_university_form.sample_certificate.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                        Sample Certificate
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{prd_university_form.sample_certificate}}
                      </div>
                      <div class="alert">{{prd_university_form.sample_certificate.errors}}</div>
                    </div>
                    <div class="item form-group {% if prd_university_form.application_process.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                        Application Process<span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12" id="application_process">
                        <ul id="id_application_process" class="exe-application-process">
                          {% for x,y,z in prd_university_form.fields.application_process_choices.choices %}
                            <li>
                              <label for="id_application_process_{{forloop.counter}}">
                                  <input class="form-control col-md-7 col-xs-12 process_item process_checkbox" id="id_application_process_{{forloop.counter}}" name="application_process" type="checkbox" value="{{ x }}" required="" {%if x  in prd_university_form.fields.application_process_choices.initial %} checked {% endif %}>
                                <figure class="col-sm-3 process-box" style="width:80%; display:inline-flex">
                                  <span class="circle"><i class="{{y}}"></i></span>
                                  <figcaption>{{z}}</figcaption>
                                </figure>                          
                              </label>
                            
                            </li>
                          {% endfor %}
                        </ul>
                      </div>
                      <div class="alert">{{prd_university_form.application_process.errors}}</div>
                     
                    </div>
                    <div class="row item form-group " id="selected_process" >
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" >               
                        Selected Application Process(Sorted)<span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        <div class="row"  id="application_processes">
                          {% if prd_university_form.fields.selected_process_choices.choices %}
                            {% for x , y, z in prd_university_form.fields.selected_process_choices.choices %}
                              <div class="col-md-3  exe-application-process" id="selected_process_{{x}}">
                                 <figure class="col-sm-12 process-box" style="width:100%">
                                  <span class="circle"><i class="{{y}}"></i></span>
                                  <figcaption>{{z}}</figcaption>
                                </figure>     
                              </div>
                            {% endfor %}
                          {% else %}
                                No Application Process Selected
                          {% endif %}                         
                        </div>
                      </div>
                    </div>
                
                    <div class="item form-group {% if prd_university_form.benefits_choices.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                        Benefits
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12" id="benefits">
                        <ul id="id_benefits"  class="exe-application-process">
                           {% for x,y,z in prd_university_form.fields.benefits_choices.choices %}
                            <li>
                              <label for="id_benefits_{{forloop.counter}}">
                                <input class="form-control col-md-7 col-xs-12 benefit_item benefit_checkbox" id="id_benefits_{{forloop.counter}}" name="benefits" type="checkbox" value="{{ x }}" required="" {%if x  in prd_university_form.fields.benefits_choices.initial %} checked {% endif %}>
                                <figure class="col-sm-4 process-box" style="width:80%">
                                  <span class="circle"><i class="{{y}}"></i></span>
                                  <figcaption>{{z}}</figcaption>
                                </figure>  
                            </li>
                          {% endfor %}
                        </ul>
                      </div>
                      <div class="alert">{{prd_university_form.benefits.errors}}</div>
                     
                    </div>
                    <div class="row item form-group " id="selected_process" >
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" >               
                        Selected Benefits(Sorted)
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                       <div class="row"  id="selected_benefits">
                          {% if prd_university_form.fields.selected_benefits_choices.choices %}
                            {% for x , y, z in prd_university_form.fields.selected_benefits_choices.choices %}
                              <div class="col-md-3  exe-application-process" id="selected_benefit_{{x}}">
                                 <figure class="col-sm-12 process-box" style="width:100%">
                                  <span class="circle"><i class="{{y}}"></i></span>
                                  <figcaption>{{z}}</figcaption>
                                </figure>     
                              </div>
                            {% endfor %}
                          {% else %}
                                No Benefit Selected
                          {% endif %}                         
                        </div>
                      </div>
                    </div>
                    <div class="item form-group {% if prd_university_form.eligibility_criteria.errors %}bad{% endif %}">
                       <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                          Eligibility Criteria.<span class="required">*</span>
                        </label>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                            {{prd_university_form.eligibility_criteria}}
                            <div id="suggestions-container" style="position: relative; float: left; width: 250px; margin: 10px;"></div>
                        </div>
                        <div class="alert">{{prd_university_form.eligibility_criteria.errors}}</div>
                    </div>
                    <div class="item form-group {% if prd_university_form.highlighted_benefits.errors %}bad{% endif %}">
                       <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                          Highlighted Benefits<span class="required">*</span>
                        </label>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                            {{prd_university_form.highlighted_benefits}}
                            <div id="suggestions-container" style="position: relative; float: left; width: 250px; margin: 10px;"></div>
                        </div>
                        <div class="alert">{{prd_university_form.highlighted_benefits.errors}}</div>
                    </div>

                    <div class="item form-group {% if prd_university_form.attendees_criteria.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                          Who Should Attend?<span class="required">*</span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                        {% for heading, subheading in prd_university_form.fields.attendees_criteria_choices.choices%}
                          <div class="col-md-6 col-sm-6 col-xs-12">
                            <label>Heading - {{ forloop.counter }} </label><input type="text" class="form-control" value="{{heading}}" name="heading_{{forloop.counter0}}" maxlength="35">
                          </div>
                          <div class="col-md-6 col-sm-6 col-xs-12">
                            <label>Sub Heading - {{ forloop.counter }}</label><input type="text"  class="form-control"  value="{{subheading}}" name="subheading_{{forloop.counter0}}" maxlength="85">
                          </div>
                          <div class="col-md-12">
                            <hr>
                          </div>
                        {% endfor %}

                        </div>
                      <div class="alert">{{prd_university_form.attendees_criteria.errors}}</div>
                    </div>

                    <div class="item form-group {% if prd_university_form.assesment.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                          Assesment and Evaluation.
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{prd_university_form.assesment}}
                        </div>
                      <div class="alert">{{prd_university_form.assesment.errors}}</div>
                    </div>
                  <input type="hidden" name="product" value="{{object.pk}}">
                    <input type="hidden" name="slug" value="university">\
                    <input type="hidden" name="application_process_priority" value="" id="application_process_priority">
                    <input type="hidden" name="benefits_priority" value="" id="benefits_priority">

                    <div class="ln_solid"></div>
                    <div class="form-group">
                      <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                        <button type="btn" id="prd_university_form_btn" class="btn btn-success save_scroll">Submit</button>
                      </div>
                    </div>
                  
                  </form>
                </div>   
            </div>
          </div>
        {% endif %}

        {% if prd_university_payment_formset %}
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i> University Course Payment</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
              <div class="accordion" id="accordion51" role="tablist" aria-multiselectable="true">
                <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-university-payment-form">
                      {% csrf_token %}
                      {{ prd_university_payment_formset.management_form }}
                  {% if prd_university_payment_formset.non_form_errors %}
                    <div class="alert alert-danger alert-dismissible fade in" role="alert">
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                      </button>
                      {{ prd_university_payment_formset.non_form_errors }}
                    </div>
                  {% endif %}
                <div class="inter-related-parent-div">    
                {% for inline_admin_form in prd_university_payment_formset.forms %}
                {% if forloop.counter < 5 %}
                <div class="panel {% if forloop.last %} {% endif %}">
                  {% if forloop.counter == 4 %}

                  {% else%}
                  <a class="panel-heading {% if not inline_admin_form.errors %}collapsed{% endif %}" role="tab" id="heading2{{forloop.counter}}60" data-toggle="collapse" data-parent="#accordion60" href="#collapse21{{forloop.counter}}60" {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false"{% endif %} aria-controls="collapse21{{forloop.counter}}60">
                    {% if  inline_admin_form.instance.id %}
                    <h4 class="panel-title">University Course Payment:&nbsp;{{forloop.counter|ordinal}} Installment -   {{inline_admin_form|get_instance}}</h4>

                    {% else %}
                    
                    <h4 class="panel-title">University Course Payment: Add New</h4>
                    
                    {% endif %}

                      
                  </a>
                  {% endif %}
                  <div id="collapse21{{forloop.counter}}60" class="panel-collapse collapse
                      {% if inline_admin_form.errors %}in{% endif %}" 
                      {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false" style="height: 0px;"{% endif %}
                       role="tabpanel" aria-labelledby="heading2{{forloop.counter}}60">
                    <div class="panel-body">
                        {% if  inline_admin_form.DELETE %}
                          <div class="pull-left">
                            {{inline_admin_form.DELETE}}<label for="{{ inline_admin_form.DELETE.id_for_label }}" style="color:#d9534f !important;">&nbsp;&nbsp;Delete
                            </label>
                            
                          </div>
                          </br>
                            <div class="clearfix"></div>
                        {% endif %}

                        {% for hidden in inline_admin_form.hidden_fields %}
                            {{ hidden }}
                        {% endfor %}
                    
                        <div class="item form-group {% if inline_admin_form.installment_fee.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.installment_fee.id_for_label }}">INR Program Fee <span class="required">*</span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.installment_fee}}
                        </div>
                        <div class="alert">{{inline_admin_form.installment_fee.errors}}</div>
                      </div>
                      
                      <div class="item form-group {% if inline_admin_form.last_date_of_payment.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.last_date_of_payment.id_for_label }}">Last Date of Payment <span class="required"></span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.last_date_of_payment}}
                        </div>
                        <div class="alert">{{inline_admin_form.last_date_of_payment.errors}}</div>
                      </div>

                      <div class="item form-group {% if inline_admin_form.active.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.active.id_for_label }}">Active <span class="required"></span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.active}}
                        </div>
                        <div class="alert">{{inline_admin_form.active.errors}}</div>
                      </div>

                    </div>
                  </div>
                </div>
                {% endif %}
                {% endfor %}
                </div>
                <input type="hidden" name="product" value="{{object.pk}}">
                  <input type="hidden" name="slug" value="university_payment">
                  <div class="ln_solid"></div>
                  <div class="form-group">
                    <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                      <button type="submit" class="btn btn-success save_scroll">Submit</button>
                    </div>
                  </div>
                
                </form>
              </div>  
          </div>
        </div>
        {% endif %}

        
      </div>
    </div>
    

    
  </div>
</div>
 <!-- modal -->
      <div class="modal fade bs-example-modal-sm filter" id="skill_suggestion_modal" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span>
                  </button>
                  <h4 class="modal-title" id="myModalLabel2">Filter By</h4>
                </div>
                <div class="modal-body">
                  <form id="product_skill_form">
                    <table id="product_skill_table" class="table">
                      <thead>
                      <tr>
                        <th>Skill</th>
                        <th>Type</th>
                        <th>Remove</th>
                      </tr>
                    </thead>
                      <tbody id="product_skill_data">
                      </tbody>
                    </table>
                  </form>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary" onclick="UpdateProductSkill()">Add Skill</button>
                </div>
              </div>
            </div>
        </div>
        <!-- modal end -->
        <!-- /page content -->
{% endblock pagecontent %}

        
{% block js_block %}
  {{ block.super }}

<script type="text/javascript">
 application_process_order =[]
  benefits_order = []
  {% for x , y, z in prd_university_form.fields.selected_process_choices.choices %}
    k = {{x}}
    application_process_order.push(k.toString())
  {% endfor %}

  {% for x , y, z in prd_university_form.fields.selected_benefits_choices.choices %}
    m = {{x}}
    benefits_order.push(m.toString())
  {% endfor %}
</script>
  {% compress js %}
  <!-- Parsley Validate Scripts -->
  <script type="text/javascript" 
    src="{% static 'packages/bootstrap-daterangepicker/daterangepicker.js' %}">
  </script>
  <script type="text/javascript" src="{% static 'packages/jquery.tagsinput/src/jquery.tagsinput.js' %}"></script>
  <script type="text/javascript" src="{% static 'packages/parsleyjs/parsley.min.js' %}"></script>
  <script src="{% static 'console/js/myadmin/django-admin.multiselect.js' %}"></script>
  <script src="{% static 'console/js/myadmin/django-admin-multiselect-media.js' %}"></script>
  <!-- Switchery -->
  <script type="text/javascript" src="{% static 'packages/switchery/dist/switchery.min.js' %}"></script>

  <!-- Custom Theme Scripts -->
  <script type="text/javascript" src="{% static 'console/js/shop/console_shop.js' %}"></script>
  <script type="text/javascript" src="{% static 'console/js/shop/change_screenproduct.js' %}"></script>
  <script type="text/javascript" src="{% static 'packages/jquery.tagsinput/src/jquery.tagsinput.js' %}"></script>
    <script type="text/javascript">
 
  $("#application_process_priority").val(application_process_order.join(','))
  $("#benefits_priority").val(benefits_order.join(','))
 if(application_process_order.length>=4){
    $("input.process_checkbox:checkbox:not(:checked)").attr('disabled','true')
  }
  $('.process_item').change(function() {
      var curr_html_text = $("#application_processes").text().trim()
      var curr_html = $("#application_processes").html()
      var html_template = '<div class="col-md-3  exe-application-process" id="selected_process_counter"><figure class="col-sm-12 process-box" style="width:100%"><span class="circle"><i class="img_src"></i></span><figcaption>detail_name</figcaption></figure></div>';
      var label = $(this).prop('labels')
      var src= $(label).find('figure > span > i').attr('class')
      var detail = $(label).find('figcaption').text()
      var val = $(this).val()
      new_html = html_template.replace('counter', val)
      new_html = new_html.replace('img_src', src)
      new_html = new_html.replace('detail_name', detail)
      if($(this).is(":checked")){
        if(curr_html_text=='No Application Process Selected'){
          $("#application_processes").html(new_html)
          application_process_order.push($(this).val())
        }
        else{
          curr_html += new_html
          $("#application_processes").html(curr_html)
          application_process_order.push($(this).val())
        }
      }
    else {
      curr_html = curr_html.replace(new_html,"");
      $("#application_processes").html(curr_html)
      application_process_order.splice(application_process_order.indexOf($(this).val()), 1)
    }   
    if(application_process_order.length==0){
       $("#application_processes").text('No Application Process Selected')
    }  
    if(application_process_order.length>=4){
      $("input.process_checkbox:checkbox:not(:checked)").attr('disabled','true')
    }
    else{
     $("input.process_checkbox:checkbox:not(:checked)").removeAttr('disabled','true') 
    }
    $("#application_process_priority").val(application_process_order.join(','))
});


  $('.benefit_item').change(function() {
      var curr_html_text = $("#selected_benefits").text().trim()
      var curr_html = $("#selected_benefits").html()
      var html_template = '<div class="col-md-3  exe-application-process" id="selected_benefit_counter"><figure class="col-sm-12 process-box" style="width:100%"><span class="circle"><i class="img_src"></i></span><figcaption>detail_name</figcaption></figure></div>';
      var label = $(this).prop('labels')
      var src= $(label).find('figure > span > i').attr('class')
      var detail = $(label).find('figcaption').text()
      var val = $(this).val()
      new_html = html_template.replace('counter', val)
      new_html = new_html.replace('img_src', src)
      new_html = new_html.replace('detail_name', detail)
      if($(this).is(":checked")){
        if(curr_html_text=='No Benefit Selected'){
          $("#selected_benefits").html(new_html)
          benefits_order.push($(this).val())
        }
        else{
          curr_html += new_html
          $("#selected_benefits").html(curr_html)
          benefits_order.push($(this).val())
        }
      }
    else {
      curr_html = curr_html.replace(new_html,"");
      $("#selected_benefits").html(curr_html)
      benefits_order.splice(benefits_order.indexOf($(this).val()), 1)
    }   
    if(benefits_order.length==0){
       $("#selected_benefits").text('No Benefit Selected')
    }  
    if(benefits_order.length>=4){
      $("input.benefit_checkbox:checkbox:not(:checked)").attr('disabled','true')
    }
    else{
     $("input.benefit_checkbox:checkbox:not(:checked)").removeAttr('disabled','true') 
    }
    $("#benefits_priority").val(benefits_order.join(','))
});

  $('#id_product_skill').tagsInput({
        width: 'auto',
        'delimiter': [','],   // Or a string with a single delimiter. Ex: ';'
    });
    paste_tage('id_product_skill')

  $('#id_required_skill').tagsInput({
        width: 'auto',
        'delimiter': [','],   // Or a string with a single delimiter. Ex: ';'
    });
    paste_tage('id_required_skill')

    function paste_tage(tag_id){
      $("#"+tag_id+"_tag").on('paste',function(e){
        var element=this;
        setTimeout(function () {
            var text = $(element).val();
            var target=$("#"+tag_id);
            var tags = (text).split(/[,]+/);
            for (var i = 0, z = tags.length; i<z; i++) {
                  var tag = $.trim(tags[i]);
                  if (!target.tagExist(tag)) {
                        target.addTag(tag);
                  }
                  else
                  {
                      $("#"+tag_id+"_tag").val('');
                  }
             }
        }, 0);
    });
  }

  $('.copy-tag').click(function(){
      let elem_id = $(this).attr('data-copy-tag-id');
      let k = $("#"+elem_id).siblings(".tagsinput").children('.tag')
      let tags = [];
      for (var i = 0;i<k.length; i++) {  
          tags.push($(k[i]).text().substring(0, $(k[i]).text().length -  1).trim());  
      }
      element = $('<textarea>').appendTo('body').val(tags.join(',')).select()
      document.execCommand('copy')
      element.remove()
    });
  </script>
 
  {% endcompress %}
 <script>
    var product_id = {{ object.id }}
    $("#suggestion_skill_btn").click(function(){
        let url = '/api/v1/parse-skill/'
        text = CKEDITOR.instances['id_description'].document.getBody().getText()
        data = {'text': text}
        $(this).html('<i class="fa fa-spinner fa-spin"></i>Loading')
        $(this).attr('disabled','disabled')
        $.ajax({
          url: url,
          method: 'POST',
          data: data,
          success: function(data){
            $("#suggestion_skill_btn").html('View Skill Suggestion')
            $("#suggestion_skill_btn").removeAttr('disabled')
            if(data.length > 0){
                let k ='<p><b> Suggested Skill:- </b></p>'+ data.slice(0,3).join(',') +'<p><a type="button" id="view_suggestion_modal_btn">View All</a></p><br><br>'
                $("#suggestion_box").html(k)
                row = `<tr>
                        <td class="skill">skill_name</td>
                        <td>
                            <select class="skill_type form-control">
                               <option value="1">Product Skill</option>
                               <option value="2">User Skill</option>
                            </select>
                        </td>
                        <td><a  type="button" id='remove_skill'>Remove</a></td>
                      </tr>`
                $("#product_skill_data").empty()
                data.forEach(function(ele){
                  skill_row = row.replace('skill_name', ele)
                  $("#product_skill_data").append(skill_row)
                });
             }
          }
        })
    });

    $("#suggestion_box").on('click','#view_suggestion_modal_btn',function(){
      $("#skill_suggestion_modal").modal('show')

    })
    $('#product_skill_data').on('click',"#remove_skill", function(){
      $(this).parents('tr').remove()
    })

    function UpdateProductSkill(){
      all_skills = $("#product_skill_data").find('tr')
      let data = {'user_type':[], 'product_type': [], 'product_id': product_id}
      for(let i=0; i<all_skills.length; i++){
          name = $(all_skills[i]).find('.skill').text()
          type = $(all_skills[i]).find('.skill_type').val()
          if(type == "1"){
            data['product_type'].push(name)
          }
          else{
            data['user_type'].push(name)
          }
      }
      let url = '/api/v1/screen-product-skill/update/'
      $.ajaxSetup({
        beforeSend: function(xhr, settings) {
          if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
              xhr.setRequestHeader("X-CSRFToken", getCookie('csrftoken'));
          }
        }
      });
      $.ajax({
        url: url,
        method: 'POST',
        data: JSON.stringify(data),
        contentType: "application/json",
        dataType: "json",
        success: function() {
          $("#skill_suggestion_modal").modal('hide')
        }
      })
    }

  </script>
  <!-- {{prdskill_formset.media}} -->

{% endblock js_block %}
