{% extends "console/base_console.html" %}
{% load static compress %}
{% load humanize %}
{% load console_tags %}
{% block title %}
  <title>Change Products</title>
{% endblock title %}

{% block css_block %}
  {{ block.super }}

  {% compress css %}
  <!-- Switchery -->
  <link href="{% static 'packages/switchery/dist/switchery.min.css' %}" rel="stylesheet" type="text/css">

  <link type="text/css" href="{% static 'console/css/myadmin/django-admin-widgets.css' %}" rel="stylesheet">

  <!-- ColorSelector -->
  <link href="{% static 'packages/bootstrap-colorselector/dist/bootstrap-colorselector.min.css' %}" rel="stylesheet" type="text/css">
  {% endcompress %}


  {% compress css inline %}
  <style type="text/css">
      ul.parsley-errors-list {
          list-style: none;
          color: #fff;
          padding-left: 0;
      }
      ul.errorlist {
          list-style: none;
          color: #fff;
          padding-left: 0;
      }
      .empty-form{
        display: none;
      }
      
      .clearimg a{
        margin-right: 23%;
      }

      .dropdown-colorselector>.dropdown-menu {
          top: 80%;
          left: -7px;
          padding: 4px;
          min-width: 126px;
          max-width: 102% !important;
      }
      .btn-colorselector {
          display: inline-block;
          width: 100% !important;
          height: 40px !important;
          background-color: #DDD;
          vertical-align: middle;
          border-radius: 0;
          margin-bottom: 0px;
      }
      .dropdown-colorselector>.dropdown-menu>li>.color-btn.selected:after {
              font-size: 20px !important;
              line-height: 70px !important;
          }
      .dropdown-colorselector>.dropdown-menu {
          top: 80%;
          left: -8px !important;
          padding: 4px !important;
          min-width: 126px;
          max-width: 85% !important;
      }
      .dropdown-colorselector>.dropdown-menu>li {
          display: block;
          float: left;
          width: 90px !important;
          height: 90px !important;
          margin: 3px;
      }
      .dropdown-colorselector>.dropdown-menu>li>.color-btn {
          display: block;
          width: 80px !important;
          height: 80px !important;
          margin: 0px;
          padding: 0px;
          border-radius: 0;
          position: relative;
          -webkit-transition: all ease .1s;
          transition: all ease .1s;
      }
       #application_process{
          height: 310px;
          overflow-y: scroll;
          border: 1px solid #d7cdcd;
        }
        #application_process > ul > li {
          width: 32%;
          margin: 0px 1px;
          display: inline-block;
        }
        #id_application_process > li > label > img{
          width: 60px;
          height: 60px;

        }
        #application_processes {
          text-align: center;
        }
        #application_processes > span > img{
          width: 60px;
          height: 60px;
        }
        #application_processes > span {
            margin: 0 40px;
        }
        #id_application_process {
          margin-top: 10px;
        }
        #application_process > ul > li >label  >input {
          width: 15px;
        }
         #application_process > ul > li >label {
          text-align: center;
          vertical-align: middle;
          margin: 12px 0px;
         }
        .selected_process_img{
           width: 60px;
          height: 60px;
        }
        .selected_process_img_container::after{
           content: " - Remember this";
        }
         #benefits{
          height: 310px;
          overflow-y: scroll;
          border: 1px solid #d7cdcd;
        }
        #benefits > ul > li {
          width: 32%;
          margin: 0px 1px;
          display: inline-block;
        }
        #id_benefits > li > label > img{
          width: 60px;
          height: 60px;

        }
        #benefits {
          text-align: center;
        }
        #benefits > span > img{
          width: 60px;
          height: 60px;
        }
         #selected_benefits {
          text-align: center;
        }
        #selected_benefits > span > img{
          width: 60px;
          height: 60px;
        }
        #selected_benefits > span {
            margin: 0 40px;
        }
        #id_benefits {
          margin-top: 10px;
        }
        #benefits > ul > li >label >input {
          width: 15px;
        }
         #benefits > ul > li >label {
          text-align: center;
          vertical-align: middle;
          margin: 12px 0px;
         }
        .selected_benefit_img{
           width: 60px;
          height: 60px;
        }
        #application_processes > .exe-application-process {
          border: 1px solid #d7cdcd;
          padding: 10px 10px;
          min-height: 122px;
        }
        #selected_benefits > .exe-application-process {
          border: 1px solid #d7cdcd;
          padding: 10px 10px;
          min-height: 122px;
        } 

        .tag:after{
          display: none;
        }
      </style>
  {% endcompress %}
                
{% endblock css_block %}


{% block pagecontent %}
        <!-- page content -->
<div class="right_col" role="main">
  <div class="">
    <div class="page-title">
      <div class="title_left">
        <h3></h3>
      </div>
    </div>
    <div class="clearfix"></div>
      <div class="row top_tiles">
        {% if not object.active %}
          <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12" >
              <a class="btn btn-app click-modal" data-msg="active">
                <i class="fa fa-check-square-o"></i> Make Active</a>
            </div>
        {% else %}
          <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12" >
              <a class="btn btn-app click-modal" data-msg="inactive">
                <i class="fa fa-minus-square"></i> Make Inactive</a>
            </div>
        {% endif %}
        {% if not object.is_indexable %}
    
          <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12" >
              <a class="btn btn-app click-modal" data-msg="index">
                <i class="fa fa-check-square-o"></i> Make Indexable</a>
            </div>
        {% else %}
          <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12" >
              <a class="btn btn-app click-modal" data-msg="unindex">
                <i class="fa fa-minus-square"></i> UnIndex</a>
            </div>
      
        {% endif %}
        {% if not object.visible_on_crm %}
    
          <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12" >
              <a class="btn btn-app click-modal" data-msg="show-on-crm">
                <i class="fa fa-check-square-o"></i> Show on CRM</a>
            </div>
        {% else %}
          <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12" >
              <a class="btn btn-app click-modal" data-msg="hide-on-crm">
                <i class="fa fa-minus-square"></i> Hide On CRM</a>
            </div>
      
        {% endif %}
    </div>
    <form class="form-horizontal form-label-left" method="POST" novalidate id="approval-form">
      {% csrf_token %}
      <input type="hidden" name="product" value="{{object.pk}}">
      <input type="hidden" name="action" value="">
    </form>


    <div id="alertModal" class="modal fade in" tabindex="-1" role="dialog" aria-hidden="true" style="display: none;">
      <div class="modal-dialog modal-sm">
        <div class="modal-content">

          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span>
            </button>
            <h4 class="modal-title" id="alertModalTitle">Alert!</h4>
          </div>
          <div class="modal-body" id="alertModalBody">
            
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="alertModalOk" data-action="">Ok</button>
          </div>

        </div>
      </div>
    </div>
    
    

    <div class="clearfix"></div>


    <div class="row">
      <div class="col-md-12 col-sm-12 col-xs-12">
        {% if messages %}
            {% for message in messages %}

              <div{% if message.tags %} class="alert alert-{{ message.tags }} alert-dismissable"{% endif %}>
              <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>

              {{ message }}
              </div>
            {% endfor %}
        {% endif %}

      </div>
    </div>
    

    <div class="clearfix"></div>
    <div class="row">
      <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i> Main</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
              <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-form">
                {% csrf_token %}
                {% if form.non_field_errors %}
                  <div class="alert alert-danger alert-dismissible fade in" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                    </button>
                    {{form.non_field_errors}}
                  </div>
                {% endif %}

                <div class="item form-group">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="">Modified</label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    <label style="padding-top:8px;">{{object.modified|naturaltime}}</label>
                  </div>
                </div>

                <div class="item form-group">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="">Slug</label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    <label style="padding-top:8px;">{{object.slug}}</label>
                  </div>
                </div>

                
                <div class="item form-group ">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="">Class</label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    <label style="padding-top:8px;">{{object.product_class.name}}</label>
                  </div>
                </div>

                <div class="item form-group ">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" >Type </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    <label style="padding-top:8px;">{{object.get_type}}</label>
                  </div>
                </div>


                <div class="item form-group {% if form.name.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.name.id_for_label }}">Name <span class="required">*</span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{form.name}}
                  </div>
                  <div class="alert">{{form.name.errors}}</div>
                </div>

                <div class="item form-group {% if form.type_flow.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.type_flow.id_for_label }}">Flow <span class="required">*</span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{form.type_flow}}
                  </div>
                  <div class="alert">{{form.type_flow.errors}}</div>
                </div>
                {% if form.sub_type_flow %}
                <div class="item form-group {% if form.sub_type_flow.errors %}bad{% endif %}" id="sub_type_flow_div">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.sub_type_flow.id_for_label }}">Sub Type Flow <span class="required">*</span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{form.sub_type_flow}}
                  </div>
                  <div class="alert">{{form.sub_type_flow.errors}}</div>
                </div>
                {% endif %}
                <div class="item form-group {% if form.upc.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.upc.id_for_label }}">UPC <span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{form.upc}}
                  </div>
                  <div class="alert">{{form.upc.errors}}</div>
                </div>

                <div class="item form-group {% if form.image_bg.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.image_bg.id_for_label }}">Image Background <span class="required">*</span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                      {{form.image_bg}}
                    
                    <div class="alert">{{form.image_bg.errors}}</div>
                  </div>
                </div>

                <div class="item form-group {% if form.banner.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.banner.id_for_label }}">Banner <span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12 clearimg">
                    {{form.banner}}
                  </div>
                  <div class="alert">{{form.banner.errors}}</div>
                </div>

                <div class="item form-group {% if form.image.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.image.id_for_label }}">Image <span class="required">*</span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12 clearimg">
                    {{form.image}}
                  </div>
                  <div class="alert">{{form.image.errors}}</div>
                </div>

                <div class="item form-group {% if form.icon.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.icon.id_for_label }}">Icon <span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12 clearimg">
                    {{form.icon}}
                  </div>
                  <div class="alert">{{form.icon.errors}}</div>
                </div>

                <div class="item form-group {% if form.video_url.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.video_url.id_for_label }}">Video Url <span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{form.video_url}}
                  </div>
                  <div class="alert">{{form.video_url.errors}}</div>
                </div>

                <div class="item form-group {% if form.vendor.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.vendor.id_for_label }}">Vendor <span class="required">*</span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{form.vendor}}
                  </div>
                  <div class="alert">{{form.vendor.errors}}</div>
                </div>

                
                
                <div class="item form-group {% if form.avg_rating.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.avg_rating.id_for_label }}">Rating <span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{form.avg_rating}}
                  </div>
                  <div class="alert">{{form.avg_rating.errors}}</div>
                </div>

                <div class="item form-group {% if form.buy_count.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.buy_count.id_for_label }}">Buy Count <span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{form.buy_count}}
                  </div>
                  <div class="alert">{{form.buy_count.errors}}</div>
                </div>
                
                <div class="item form-group {% if form.no_review.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.no_review.id_for_label }}">Number review <span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{form.no_review}}
                  </div>
                  <div class="alert">{{form.no_review.errors}}</div>
                </div>
                
                <div class="item form-group {% if form.num_jobs.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.num_jobs.id_for_label }}">Number Jobs <span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{form.num_jobs}}
                  </div>
                  <div class="alert">{{form.num_jobs.errors}}</div>
                </div>

                <div class="item form-group {% if form.product_tag.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ form.product_tag.id_for_label }}">Product Tag<span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{form.product_tag}}
                  </div>
                  <div class="alert">{{form.product_tag.errors}}</div>
                </div>
                

                <input type="hidden" name="product" value="{{object.pk}}">
                <input type="hidden" name="slug" value="main">
                
                <div class="ln_solid"></div>
                <div class="form-group">
                  <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                    <button type="submit" class="btn btn-success save_scroll">Submit</button>
                  </div>
                </div>
              </form>
                
          </div>
        </div>
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i> Category</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
               <div class="accordion" id="accordion10" role="tablist" aria-multiselectable="true">
                <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-category-product-form">
                  {% csrf_token %}
                  {{ prdcat_formset.management_form }}
                  {% if prdcat_formset.non_form_errors %}
                    <div class="alert alert-danger alert-dismissible fade in" role="alert">
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                      </button>
                      {{ prdcat_formset.non_form_errors }}
                    </div>
                  {% endif %}
                <div class="inter-related-parent-div">    
                {% for inline_admin_form in prdcat_formset.forms %}
                <div class="panel ">
                  <a class="panel-heading {% if not inline_admin_form.errors %}collapsed{% endif %}" role="tab" id="heading{{forloop.counter}}" data-toggle="collapse" data-parent="#accordion10" href="#collapse{{forloop.counter}}10" {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false"{% endif %} aria-controls="collapse{{forloop.counter}}10">
                    {% if  inline_admin_form|get_instance %}
                    <h4 class="panel-title">Product Category:&nbsp;{{inline_admin_form|get_instance}}</h4>

                    {% else %}
                    <h4 class="panel-title">Product Categorys: Add New
                    </h4>{% endif %}

                      
                  </a>
                  <div id="collapse{{forloop.counter}}10" class="panel-collapse collapse
                  {% if inline_admin_form.errors %}in{% endif %}" 
                      {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false" style="height: 0px;"{% endif %}
                       role="tabpanel" aria-labelledby="headingOne" >
                    <div class="panel-body">
                        {% if  inline_admin_form.DELETE %}
                          <div class="pull-left">
                            {{inline_admin_form.DELETE}}<label for="{{ inline_admin_form.DELETE.id_for_label }}" style="color:#d9534f !important;">&nbsp;&nbsp;Delete
                            </label>
                            
                          </div>
                          </br>
                            <div class="clearfix"></div>
                        {% endif %}

                        {% for hidden in inline_admin_form.hidden_fields %}
                            {{ hidden }}
                        {% endfor %}
                    
                        <div class="item form-group {% if inline_admin_form.category.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.category.id_for_label }}">Category <span class="required">*</span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.category}}
                        </div>
                        <div class="alert">{{inline_admin_form.category.errors}}</div>
                      </div>
                      
                      <div class="item form-group {% if inline_admin_form.active.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.active.id_for_label }}">Active<span class="required"></span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.active}}
                        </div>
                        <div class="alert">{{inline_admin_form.active.errors}}</div>
                      </div>
                      
                      <div class="item form-group {% if inline_admin_form.cat_order.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.cat_order.id_for_label }}">Sort Order Category<span class="required"></span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.cat_order}}
                        </div>
                        <div class="alert">{{inline_admin_form.cat_order.errors}}</div>
                      </div>
                      
                      <div class="item form-group {% if inline_admin_form.prd_order.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.prd_order.id_for_label }}">Sort Order Product <span class="required"></span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.prd_order}}
                        </div>
                        <div class="alert">{{inline_admin_form.prd_order.errors}}</div>
                      </div>
                      
                      <div class="item form-group {% if inline_admin_form.is_main.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.is_main.id_for_label }}">Main<span class="required"></span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.is_main}}
                        </div>
                        <div class="alert">{{inline_admin_form.is_main.errors}}</div>
                      </div>
                    </div>
                  </div>
                </div>
                {% endfor %}
                </div>
               

                <input type="hidden" name="product" value="{{object.pk}}">
                  <input type="hidden" name="slug" value="prdcategory">
                  <div class="ln_solid"></div>
                  <div class="form-group">
                    <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                      <button type="submit" class="btn btn-success save_scroll">Submit</button>
                    </div>
                  </div>
                
                </form>
              </div>  
   
          </div>
        </div>
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i> SEO</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
              <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-seo-form">
                  {% csrf_token %}
                  {{seo_form.media}}
                
                  {% if seo_form.non_field_errors %}
                    <div class="alert alert-danger alert-dismissible fade in" role="alert">
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                      </button>
                      {{seo_form.non_field_errors}}
                    </div>
                  {% endif %}

                  <div class="item form-group">
                    <label class="control-label col-md-2 col-sm-2 col-xs-12" for="">Url</label>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                    {% with object.get_absolute_url as abs_url %}
                      <a href="{{abs_url}}" style="padding-top:8px;">{{abs_url}}</a>
                    {% endwith %}
                    </div>
                  </div>

                  <div class="item form-group {% if seo_form.title.errors %}bad{% endif %}">
                    <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ seo_form.title.id_for_label }}">Title <span class="required">*</span>
                    </label>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                      {{seo_form.title}}
                    </div>
                    <div class="alert">{{seo_form.title.errors}}</div>
                  </div>

                  <div class="item form-group {% if seo_form.meta_desc.errors %}bad{% endif %}">
                    <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ seo_form.meta_desc.id_for_label }}">Meta Description <span class="required"></span>
                    </label>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                      {{seo_form.meta_desc}}
                    </div>
                    <div class="alert">{{seo_form.meta_desc.errors}}</div>
                  </div>
                  
                  <div class="item form-group {% if seo_form.meta_keywords.errors %}bad{% endif %}">
                    <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ seo_form.meta_keywords.id_for_label }}">Meta Keywords <span class="required"></span>
                    </label>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                      {{seo_form.meta_keywords}}
                    </div>
                    <div class="alert">{{seo_form.meta_keywords.errors}}</div>
                  </div>
                  
                  <div class="item form-group {% if seo_form.heading.errors %}bad{% endif %}">
                    <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ seo_form.heading.id_for_label }}">Display Heading <span class="required">*</span>
                    </label>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                      {{seo_form.heading}}
                    </div>
                    <div class="alert">{{seo_form.heading.errors}}</div>
                  </div>
                  
                  <div class="item form-group {% if seo_form.image_alt.errors %}bad{% endif %}">
                    <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ seo_form.image_alt.id_for_label }}">Image Alt <span class="required"></span>
                    </label>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                      {{seo_form.image_alt}}
                    </div>
                    <div class="alert">{{seo_form.image_alt.errors}}</div>
                  </div>

                  {% if seo_form.about %}
                    <div class="item form-group {% if seo_form.about.errors %}bad{% endif %}">
                    <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ seo_form.about.id_for_label }}">About <span class="required">*</span>
                    </label>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                      {{seo_form.about}}
                    </div>
                    <div class="alert">{{seo_form.about.errors}}</div>
                  </div>
                  {% endif %}
                  <div class="item form-group {% if seo_form.description.errors %}bad{% endif %}">
                    <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ seo_form.description.id_for_label }}">Description <span class="required">*</span>
                    </label>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                      {{seo_form.description}}
                    </div>
                    <div class="alert">{{seo_form.description.errors}}</div>
                    <br>
                      <br>
                      <div class="col-md-7 col-sm-7 col-xs-12 col-md-offset-2 text-center">
                        <button type="button" id="suggestion_skill_btn" class="btn btn-success">View Skill Suggestions</button>
                      </div>
                  </div>
                  <div class="item form-group">
                      <div class=" item col-md-7 col-sm-7 col-xs-12 col-md-offset-2 text-center">
                        <div>
                          <p id="suggestion_box">

                          </p>
                        </div>
                      </div>
                    </div>
                <div class="item form-group {% if seo_form.description.errors %}bad{% endif %}">
                    <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ seo_form.visibility.id_for_label }}">Description visibility <span class="required">*</span>
                    </label>
                    <div class="col-md-18 col-sm-7 col-xs-12">
                      {{seo_form.visibility}}
                    </div>
                    <div class="alert">{{seo_form.visibility.errors}}</div>
                  </div>
                   {% if seo_form.buy_shine %}
                  <div class="item form-group {% if seo_form.buy_shine.errors %}bad{% endif %}">
                    <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ seo_form.buy_shine.id_for_label }}">What u'll get <span class="required">*</span>
                    </label>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                      {{seo_form.buy_shine}}
                    </div>
                    <div class="alert">{{seo_form.buy_shine.errors}}</div>
                  </div>
                  {% endif %}
                  {% if seo_form.attend %}

                  <div class="item form-group {% if seo_form.attend.errors %}bad{% endif %}">
                    <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ seo_form.attend.id_for_label }}">Who can Attend <span class="required"></span>

                    </label>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                      {{seo_form.attend}}
                    </div>
                    <div class="alert">{{seo_form.attend.errors}}</div>
                  </div>
                  {% endif %}
                  
                  <input type="hidden" name="product" value="{{object.pk}}">
                  <input type="hidden" name="slug" value="seo">
                  <div class="ln_solid"></div>
                  <div class="form-group">
                    <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                      <button type="submit" class="btn btn-success save_scroll">Submit</button>
                    </div>
                  </div>

                </form>
                  
          </div>
        </div>
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i> Attribute</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
               <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-attribute-form">
                  {% csrf_token %}
                    
                    {% if attribute_form.non_field_errors %}
                      <div class="alert alert-danger alert-dismissible fade in" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                        </button>
                        {{attribute_form.non_field_errors}}
                      </div>
                    {% endif %}

                    {% for field in attribute_form %}
                        {% if 'attribute' in field.id_for_label %}
                            {% include "console/vendor/form_field.html" %}
                            
                        {% endif %}
                    {% endfor %}
                

                <div class="item form-group {% if attribute_form.mail_desc.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ attribute_form.mail_desc.id_for_label }}">Welcome Mail <span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{attribute_form.mail_desc}}
                  </div>
                  <div class="alert">{{attribute_form.mail_desc.errors}}</div>
                </div>
                    
                    <input type="hidden" name="product" value="{{object.pk}}">
                    <input type="hidden" name="slug" value="attribute">
                    <div class="ln_solid"></div>
                    <div class="form-group">
                      <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                        <button  type="submit" class="btn btn-success save_scroll">Submit</button>
                      </div>
                    </div>
                  </form>
                 
          </div>
        </div>
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i> Program Structure</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
            <div class="accordion" id="accordion9" role="tablist" aria-multiselectable="true">
                    <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-faq-form">
                          {% csrf_token %}
                          {{ prdchapter_formset.management_form }}
                      {% if prdchapter_formset.non_form_errors %}
                        <div class="alert alert-danger alert-dismissible fade in" role="alert">
                          <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                          </button>
                          {{ prdchapter_formset.non_form_errors }}
                        </div>
                      {% endif %}
                    <div class="inter-related-parent-div">    
                    {% for inline_admin_form in prdchapter_formset.forms %}
                    <div class="panel {% if forloop.last %} {% endif %}">
                      <a class="panel-heading {% if not inline_admin_form.errors %}collapsed{% endif %}" role="tab" id="heading9{{forloop.counter}}" data-toggle="collapse" data-parent="#accordion9" href="#collapse9{{forloop.counter}}" {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false"{% endif %} aria-controls="collapse9{{forloop.counter}}">
                        {% if  inline_admin_form|get_instance %}
                        <h4 class="panel-title">{{inline_admin_form|get_instance}}</h4>

                        {% else %}
                        <h4 class="panel-title">Add New
                        </h4>{% endif %}

                          
                      </a>
                      <div id="collapse9{{forloop.counter}}" class="panel-collapse collapse{% if inline_admin_form.errors %}in{% endif %}" 
                      {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false" style="height: 0px;"{% endif %}
                       role="tabpanel" aria-labelledby="heading9{{forloop.counter}}">
                        <div class="panel-body">
                            {% if  inline_admin_form.DELETE %}
                              <div class="pull-left">
                                {{inline_admin_form.DELETE}}<label for="{{ inline_admin_form.DELETE.id_for_label }}" style="color:#d9534f !important;">&nbsp;&nbsp;Delete
                                </label>
                                
                              </div>
                              </br>
                                <div class="clearfix"></div>
                            {% endif %}

                            {% for hidden in inline_admin_form.hidden_fields %}
                                {{ hidden }}
                            {% endfor %}
                        
                          <div class="item form-group {% if inline_admin_form.heading.errors %}bad{% endif %}">
                            <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.heading.id_for_label }}">Heading <span class="required">*</span>
                            </label>
                            <div class="col-md-7 col-sm-7 col-xs-12">
                              {{inline_admin_form.heading}}
                            </div>
                            <div class="alert">{{inline_admin_form.heading.errors}}</div>
                          </div>
                          <div class="item form-group {% if inline_admin_form.answer.errors %}bad{% endif %}">
                            <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.answer.id_for_label }}">Content <span class="required"></span>
                            </label>
                            <div class="col-md-7 col-sm-7 col-xs-12">
                              {{inline_admin_form.answer}}
                            </div>
                            <div class="alert">{{inline_admin_form.answer.errors}}</div>
                          </div>
                          
                          <div class="item form-group {% if inline_admin_form.status.errors %}bad{% endif %}">
                            <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.status.id_for_label }}">Active <span class="required"></span>
                            </label>
                            <div class="col-md-7 col-sm-7 col-xs-12">
                              {{inline_admin_form.status}}
                            </div>
                            <div class="alert">{{inline_admin_form.status.errors}}</div>
                          </div>
                          
                          <div class="item form-group {% if inline_admin_form.ordering.errors %}bad{% endif %}">
                            <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.ordering.id_for_label }}">Sort Order <span class="required"></span>
                            </label>
                            <div class="col-md-7 col-sm-7 col-xs-12">
                              {{inline_admin_form.ordering}}
                            </div>
                            <div class="alert">{{inline_admin_form.ordering.errors}}</div>
                          </div>
                          

                        </div>
                      </div>
                    </div>
                    {% endfor %}
                    </div>
                   

                    <input type="hidden" name="product" value="{{object.pk}}">
                      <input type="hidden" name="slug" value="chapter">
                      <div class="ln_solid"></div>
                      <div class="form-group">
                        <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                          <button  type="submit" class="btn btn-success save_scroll">Submit</button>
                        </div>
                      </div>
                    
                    </form>
                  </div>  
          </div>
        </div>

        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i>Skill</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
            <div class="accordion" id="accordion3" role="tablist" aria-multiselectable="true">
                    <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" >
                          {% csrf_token %}
                      <div class="form-group col-md-6">
                        <label> Product Skills</label>
                        {{ prdskill_form.product_skill }}
                        <button type="button" class="copy-tag" data-copy-tag-id="id_product_skill">Copy</button>
                      </div>
                      <div class="form-group">
                        <label> User Skills</label>
                          {{ prdskill_form.required_skill }}
                        <button type="button" class="copy-tag" data-copy-tag-id="id_required_skill">Copy</button>
                      </div>
                    <input type="hidden" name="product" value="{{object.pk}}">
                      <input type="hidden" name="slug" value="skill">
                      <div class="ln_solid"></div>
                      <div class="form-group">
                        <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                          <button type="submit" class="btn btn-success save_scroll">Submit</button>
                        </div>
                      </div>
                    
                    </form>
                  </div>  
          </div>
        </div>
        
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i>Available Countries</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
               <form class="form-horizontal form-label-left" method="POST" action="." novalidate id="change-product-country-form">
                {{country_form.media}}
                {% csrf_token %}
                  
                  {% if country_form.non_field_errors %}
                    <div class="alert alert-danger alert-dismissible fade in" role="alert">
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                      </button>
                      {{country_form.non_field_errors}}
                    </div>
                  {% endif %}

                  <div class="item form-group {% if country_form.countries.errors %}bad{% endif %}">
                    <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ country_form.countries.id_for_label }}">Countries Visible <span class="required">*</span>
                    </label>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                      {{country_form.countries}}
                    </div>
                    <div class="alert">{{country_form.countries.errors}}</div>
                  </div>
                  
                  
                  <input type="hidden" name="product" value="{{object.pk}}">
                  <input type="hidden" name="slug" value="country">
                  <div class="ln_solid"></div>
                  <div class="form-group">
                    <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                      <button type="submit" class="btn btn-success save_scroll">Submit</button>
                    </div>
                  </div>
                </form>   
          </div>
        </div>
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i>Prices</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
              <form class="form-horizontal form-label-left" method="POST" action="." novalidate id="change-product-price-form">
                {{price_form.media}}
                {% csrf_token %}
                <p>Products prices is dependent on visible countries. Please make sure to add prices on change of existing countries.
                </p>
                
                {% if price_form.non_field_errors %}
                  <div class="alert alert-danger alert-dismissible fade in" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                    </button>
                    {{price_form.non_field_errors}}
                  </div>
                {% endif %}

                <div class="item form-group {% if price_form.inr_price.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ price_form.inr_price.id_for_label }}">(<i class="fa fa-inr"></i>)&nbsp;INR Price&nbsp;<span class="required">*</span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{price_form.inr_price}}
                  </div>
                  <div class="alert">{{price_form.inr_price.errors}}</div>
                </div>
                <div class="item form-group {% if price_form.fake_inr_price.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ price_form.fake_inr_price.id_for_label }}">(<i class="fa fa-inr"></i>)&nbsp;Fake INR Price&nbsp;<span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{price_form.fake_inr_price}}
                  </div>
                  <div class="alert">{{price_form.fake_inr_price.errors}}</div>
                </div>

                <div class="item form-group {% if price_form.usd_price.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ price_form.usd_price.id_for_label }}">(<i class="fa fa-usd"></i>)&nbsp;USD Price&nbsp; <span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{price_form.usd_price}}
                  </div>
                  <div class="alert">{{price_form.usd_price.errors}}</div>
                </div>
                <div class="item form-group {% if price_form.fake_usd_price.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ price_form.fake_usd_price.id_for_label }}">(<i class="fa fa-usd"></i>)&nbsp;Fake USD Price&nbsp;<span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{price_form.fake_usd_price}}
                  </div>
                  <div class="alert">{{price_form.fake_usd_price.errors}}</div>
                </div>

                <div class="item form-group {% if price_form.aed_price.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ price_form.aed_price.id_for_label }}">(<i class="fa fa-money"></i>)&nbsp;AED Price&nbsp;<span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{price_form.aed_price}}
                  </div>
                  <div class="alert">{{price_form.aed_price.errors}}</div>
                </div>
                <div class="item form-group {% if price_form.fake_aed_price.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ price_form.fake_aed_price.id_for_label }}">(<i class="fa fa-money"></i>)&nbsp;Fake AED Price&nbsp;<span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{price_form.fake_aed_price}}
                  </div>
                  <div class="alert">{{price_form.fake_aed_price.errors}}</div>
                </div>

                <div class="item form-group {% if price_form.gbp_price.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ price_form.gbp_price.id_for_label }}">(<i class="fa fa-gbp"></i>)&nbsp;GBP Price&nbsp;<span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{price_form.gbp_price}}
                  </div>
                  <div class="alert">{{price_form.gbp_price.errors}}</div>
                </div>
                <div class="item form-group {% if price_form.fake_gbp_price.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ price_form.fake_gbp_price.id_for_label }}">(<i class="fa fa-gbp"></i>)&nbsp;Fake GBP Price&nbsp;<span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{price_form.fake_gbp_price}}
                  </div>
                  <div class="alert">{{price_form.fake_gbp_price.errors}}</div>
                </div>

                <input type="hidden" name="product" value="{{object.pk}}">
                <input type="hidden" name="slug" value="price">
                <div class="ln_solid"></div>
                <div class="form-group">
                  <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                    <button type="submit" class="btn btn-success save_scroll">Submit</button>
                  </div>
                </div>
                </form>
                  
          </div>
        </div>
        {% if object.type_product == 1 %}
        {% if prdvars_formset.forms %}
                    
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i>Variation Product</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
              <div class="accordion" id="accordion20" role="tablist" aria-multiselectable="true">
                  <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-price-form">
                        {% csrf_token %}
                        {{ prdvars_formset.management_form }}
                    {% if prdvars_formset.non_form_errors %}
                      <div class="alert alert-danger alert-dismissible fade in" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                        </button>
                        {{ prdvars_formset.non_form_errors }}
                      </div>
                    {% endif %}
                  <div class="inter-related-parent-div">    
                  {% for inline_admin_form in prdvars_formset.forms %}
                  <div class="panel {% if forloop.last %} {% endif %}">
                    <a class="panel-heading {% if not inline_admin_form.errors %}collapsed{% endif %}" role="tab" id="heading1{{forloop.counter}}20" data-toggle="collapse" data-parent="#accordion20" href="#collapse1{{forloop.counter}}20" {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false"{% endif %}aria-controls="collapse1{{forloop.counter}}20">
                      {% if  inline_admin_form|get_instance %}
                      <h4 class="panel-title">Variation Product:&nbsp;{{inline_admin_form|get_instance}}</h4>

                      {% endif %}

                        
                    </a>
                    <div id="collapse1{{forloop.counter}}20" class="panel-collapse collapse {% if inline_admin_form.errors %}in{% endif %}" 
                    {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false" style="height: 0px;"{% endif %}
                       role="tabpanel" aria-labelledby="heading1{{forloop.counter}}20">
                      <div class="panel-body">
                            <div class="pull-left">
                              <a href="{{inline_admin_form|get_edit_purl}}" class="btn btn-info btn-xs"><i class="fa fa-pencil"></i> Edit </a>
                              
                            </div>
                            </br>
                            <div class="clearfix"></div>
                          {% if  inline_admin_form.DELETE %}
                            <div class="pull-left">
                              {{inline_admin_form.DELETE}}<label for="{{ inline_admin_form.DELETE.id_for_label }}" style="color:#d9534f !important;">&nbsp;&nbsp;Delete
                              </label>
                              
                            </div>
                            </br>
                              <div class="clearfix"></div>
                          {% endif %}

                          {% for hidden in inline_admin_form.hidden_fields %}
                              {{ hidden }}
                          {% endfor %}
                      
                        <div class="item form-group {% if inline_admin_form.active.errors %}bad{% endif %}">
                          <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.active.id_for_label }}">Active <span class="required"></span>
                          </label>
                          <div class="col-md-7 col-sm-7 col-xs-12">
                            {{inline_admin_form.active}}
                          </div>
                          <div class="alert">{{inline_admin_form.active.errors}}</div>
                        </div>
                        
                        <div class="item form-group {% if inline_admin_form.sort_order.errors %}bad{% endif %}">
                          <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.sort_order.id_for_label }}">Sort Order <span class="required"></span>
                          </label>
                          <div class="col-md-7 col-sm-7 col-xs-12">
                            {{inline_admin_form.sort_order}}
                          </div>
                          <div class="alert">{{inline_admin_form.sort_order.errors}}</div>
                        </div>
                        
                        
                      </div>
                    </div>
                  </div>
                  {% endfor %}
                  </div>
                 

                    <input type="hidden" name="product" value="{{object.pk}}">
                    <input type="hidden" name="slug" value="vars">
                    <div class="ln_solid"></div>
                    <div class="form-group">
                      <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                        <button type="submit" class="btn btn-success save_scroll">Submit</button>
                      </div>
                    </div>
                  
                  </form>
                </div> 
          </div>
        </div>
        {% endif %}
        {% endif %}
        
        {% if object.type_product == 3 %}
          
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i>Combo Childs</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
              <div class="accordion" id="accordion30" role="tablist" aria-multiselectable="true">
              <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-price-form">
                    {% csrf_token %}
                    {{ prdchild_formset.management_form }}
                {% if prdchild_formset.non_form_errors %}
                  <div class="alert alert-danger alert-dismissible fade in" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                    </button>
                    {{ prdchild_formset.non_form_errors }}
                  </div>
                {% endif %}
              <div class="inter-related-parent-div">    
              {% for inline_admin_form in prdchild_formset.forms %}
              <div class="panel {% if forloop.last %} {% endif %}">
                <a class="panel-heading {% if not inline_admin_form.errors %}collapsed{% endif %}" role="tab" id="heading1{{forloop.counter}}30" data-toggle="collapse" data-parent="#accordion30" href="#collapse1{{forloop.counter}}30" 
                {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false"{% endif %}
                aria-controls="collapse1{{forloop.counter}}30">
                  {% if  inline_admin_form|get_instance %}
                  <h4 class="panel-title">Combo Child Product:&nbsp;{{inline_admin_form|get_instance}}</h4>

                  {% else %}
                  <h4 class="panel-title">Combo Child Product: Add New
                  </h4>{% endif %}

                    
                </a>
                <div id="collapse1{{forloop.counter}}30" class="panel-collapse collapse
                {% if inline_admin_form.errors %}in{% endif %}" 
                {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false" style="height: 0px;"{% endif %}
                 role="tabpanel" aria-labelledby="heading1{{forloop.counter}}30">
                  <div class="panel-body">
                      {% if  inline_admin_form.DELETE %}
                        <div class="pull-left">
                          {{inline_admin_form.DELETE}}<label for="{{ inline_admin_form.DELETE.id_for_label }}" style="color:#d9534f !important;">&nbsp;&nbsp;Delete
                          </label>
                          
                        </div>
                        </br>
                          <div class="clearfix"></div>
                      {% endif %}

                      {% for hidden in inline_admin_form.hidden_fields %}
                          {{ hidden }}
                      {% endfor %}
                  
                    <div class="item form-group {% if inline_admin_form.children.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.children.id_for_label }}">Child <span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{inline_admin_form.children}}
                      </div>
                      <div class="alert">{{inline_admin_form.children.errors}}</div>
                    </div>
                    
                    <div class="item form-group {% if inline_admin_form.active.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.active.id_for_label }}">Active <span class="required"></span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{inline_admin_form.active}}
                      </div>
                      <div class="alert">{{inline_admin_form.active.errors}}</div>
                    </div>
                    
                    <div class="item form-group {% if inline_admin_form.sort_order.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.sort_order.id_for_label }}">Sort Order <span class="required"></span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{inline_admin_form.sort_order}}
                      </div>
                      <div class="alert">{{inline_admin_form.sort_order.errors}}</div>
                    </div>
                    
                    <div class="item form-group {% if inline_admin_form.price_offset.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.price_offset.id_for_label }}">Price Offset <span class="required"></span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{inline_admin_form.price_offset}}
                      </div>
                      <div class="alert">{{inline_admin_form.price_offset.errors}}</div>
                    </div>
                    
                    <div class="item form-group {% if inline_admin_form.price_offset_percent.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.price_offset_percent.id_for_label }}">Price Offset Percent<span class="required"></span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{inline_admin_form.price_offset_percent}}
                      </div>
                      <div class="alert">{{inline_admin_form.price_offset_percent.errors}}</div>
                    </div>
                    
                    

                  </div>
                </div>
              </div>
              {% endfor %}
              </div>
                <input type="hidden" name="product" value="{{object.pk}}">
                <input type="hidden" name="slug" value="child">
                <div class="ln_solid"></div>
                <div class="form-group">
                  <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                    <button type="submit" class="btn btn-success save_scroll">Submit</button>
                  </div>
                </div>
              
              </form>
            </div>
              
          </div>
        </div>
        {% endif %}
        {% if object.type_product == 0 or object.type_product == 1 or object.type_product == 3 %}
          
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i>Related Product</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
                <div class="accordion" id="accordion40" role="tablist" aria-multiselectable="true">
              <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-price-form">
                    {% csrf_token %}
                    {{ prdrelated_formset.management_form }}
                {% if prdrelated_formset.non_form_errors %}
                  <div class="alert alert-danger alert-dismissible fade in" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                    </button>
                    {{ prdrelated_formset.non_form_errors }}
                  </div>
                {% endif %}
              <div class="inter-related-parent-div">    
              {% for inline_admin_form in prdrelated_formset.forms %}
              <div class="panel {% if forloop.last %} {% endif %}">
                <a class="panel-heading {% if not inline_admin_form.errors %}collapsed{% endif %}" role="tab" id="heading2{{forloop.counter}}40" data-toggle="collapse" data-parent="#accordion40" href="#collapse2{{forloop.counter}}40" 
                {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false"{% endif %} aria-controls="collapse2{{forloop.counter}}40">
                  {% if  inline_admin_form|get_instance %}
                  <h4 class="panel-title">Related Product:&nbsp;{{inline_admin_form|get_instance}}</h4>

                  {% else %}
                  <h4 class="panel-title">Related Product: Add New
                  </h4>{% endif %}

                    
                </a>
                <div id="collapse2{{forloop.counter}}40" class="panel-collapse collapse {% if inline_admin_form.errors %}in{% endif %}" role="tabpanel" aria-labelledby="heading2{{forloop.counter}}40"
                {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false" style="height: 0px;"{% endif %}>
                  <div class="panel-body">
                      {% if  inline_admin_form.DELETE %}
                        <div class="pull-left">
                          {{inline_admin_form.DELETE}}<label for="{{ inline_admin_form.DELETE.id_for_label }}" style="color:#d9534f !important;">&nbsp;&nbsp;Delete
                          </label>
                          
                        </div>
                        </br>
                          <div class="clearfix"></div>
                      {% endif %}

                      {% for hidden in inline_admin_form.hidden_fields %}
                          {{ hidden }}
                      {% endfor %}
                  
                      <div class="item form-group {% if inline_admin_form.secondary.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.secondary.id_for_label }}">Related <span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{inline_admin_form.secondary}}
                      </div>
                      <div class="alert">{{inline_admin_form.secondary.errors}}</div>
                    </div>
                    
                    <div class="item form-group {% if inline_admin_form.active.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.active.id_for_label }}">Active <span class="required"></span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{inline_admin_form.active}}
                      </div>
                      <div class="alert">{{inline_admin_form.active.errors}}</div>
                    </div>
                    
                    <div class="item form-group {% if inline_admin_form.sort_order.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.sort_order.id_for_label }}">Sort Order <span class="required"></span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{inline_admin_form.sort_order}}
                      </div>
                      <div class="alert">{{inline_admin_form.sort_order.errors}}</div>
                    </div>
                    
                    <div class="item form-group {% if inline_admin_form.price_offset.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.price_offset.id_for_label }}">Price Offset <span class="required"></span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{inline_admin_form.price_offset}}
                      </div>
                      <div class="alert">{{inline_admin_form.price_offset.errors}}</div>
                    </div>
                    
                    <div class="item form-group {% if inline_admin_form.price_offset_percent.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.price_offset_percent.id_for_label }}">Price Offset Percent<span class="required"></span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{inline_admin_form.price_offset_percent}}
                      </div>
                      <div class="alert">{{inline_admin_form.price_offset_percent.errors}}</div>
                    </div>
                    
                    <div class="item form-group {% if inline_admin_form.type_relation.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.type_relation.id_for_label }}">Relation<span class="required"></span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{inline_admin_form.type_relation}}
                      </div>
                      <div class="alert">{{inline_admin_form.type_relation.errors}}</div>
                    </div>
                    

                    <div class="item form-group {% if inline_admin_form.ranking.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.ranking.id_for_label }}">Price Offset Percent<span class="required"></span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{inline_admin_form.ranking}}
                      </div>
                      <div class="alert">{{inline_admin_form.ranking.errors}}</div>
                    </div>
                                                            

                  </div>
                </div>
              </div>
              {% endfor %}
              </div>
             

                <input type="hidden" name="product" value="{{object.pk}}">
                <input type="hidden" name="slug" value="relation">
                <div class="ln_solid"></div>
                <div class="form-group">
                  <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                    <button type="submit" class="btn btn-success save_scroll">Submit</button>
                  </div>
                </div>
              
              </form>
            </div>  
          </div>
        </div>
        {% endif %}
        
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i> FAQ</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
              <div class="accordion" id="accordion50" role="tablist" aria-multiselectable="true">
                <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-faq-form">
                      {% csrf_token %}
                      {{ prdfaq_formset.management_form }}
                  {% if prdfaq_formset.non_form_errors %}
                    <div class="alert alert-danger alert-dismissible fade in" role="alert">
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                      </button>
                      {{ prdfaq_formset.non_form_errors }}
                    </div>
                  {% endif %}
                <div class="inter-related-parent-div">    
                {% for inline_admin_form in prdfaq_formset.forms %}
                <div class="panel {% if forloop.last %} {% endif %}">
                  <a class="panel-heading {% if not inline_admin_form.errors %}collapsed{% endif %}" role="tab" id="heading2{{forloop.counter}}50" data-toggle="collapse" data-parent="#accordion50" href="#collapse2{{forloop.counter}}50" {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false"{% endif %} aria-controls="collapse2{{forloop.counter}}50">
                    {% if  inline_admin_form|get_instance %}
                    <h4 class="panel-title">FAQ:&nbsp;{{inline_admin_form|get_instance}}</h4>

                    {% else %}
                    <h4 class="panel-title">FAQ: Add New
                    </h4>{% endif %}

                      
                  </a>
                  <div id="collapse2{{forloop.counter}}50" class="panel-collapse collapse
                      {% if inline_admin_form.errors %}in{% endif %}" 
                      {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false" style="height: 0px;"{% endif %}
                       role="tabpanel" aria-labelledby="heading2{{forloop.counter}}50">
                    <div class="panel-body">
                        {% if  inline_admin_form.DELETE %}
                          <div class="pull-left">
                            {{inline_admin_form.DELETE}}<label for="{{ inline_admin_form.DELETE.id_for_label }}" style="color:#d9534f !important;">&nbsp;&nbsp;Delete
                            </label>
                            
                          </div>
                          </br>
                            <div class="clearfix"></div>
                        {% endif %}

                        {% for hidden in inline_admin_form.hidden_fields %}
                            {{ hidden }}
                        {% endfor %}
                    
                        <div class="item form-group {% if inline_admin_form.question.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.question.id_for_label }}">Question <span class="required">*</span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.question}}
                        </div>
                        <div class="alert">{{inline_admin_form.question.errors}}</div>
                      </div>
                      
                      <div class="item form-group {% if inline_admin_form.active.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.active.id_for_label }}">Active <span class="required"></span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.active}}
                        </div>
                        <div class="alert">{{inline_admin_form.active.errors}}</div>
                      </div>
                      
                      <div class="item form-group {% if inline_admin_form.question_order.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.question_order.id_for_label }}">Sort Order <span class="required"></span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.question_order}}
                        </div>
                        <div class="alert">{{inline_admin_form.question_order.errors}}</div>
                      </div>


                    </div>
                  </div>
                </div>
                {% endfor %}
                </div>
               

                <input type="hidden" name="product" value="{{object.pk}}">
                  <input type="hidden" name="slug" value="faqs">
                  <div class="ln_solid"></div>
                  <div class="form-group">
                    <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                      <button type="submit" class="btn btn-success save_scroll">Submit</button>
                    </div>
                  </div>
                
                </form>
              </div>    
          </div>
        </div>
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i> Operation</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
               <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-seo-form">
                {% csrf_token %}
                
                {% if op_form.non_field_errors %}
                  <div class="alert alert-danger alert-dismissible fade in" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                    </button>
                    {{op_form.non_field_errors}}
                  </div>
                {% endif %}

                <div class="item form-group {% if op_form.call_desc.errors %}bad{% endif %}">
                  <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ op_form.call_desc.id_for_label }}">Welcome Call <span class="required"></span>
                  </label>
                  <div class="col-md-7 col-sm-7 col-xs-12">
                    {{op_form.call_desc}}
                  </div>
                  <div class="alert">{{op_form.call_desc.errors}}</div>
                </div>
                
                <input type="hidden" name="product" value="{{object.pk}}">
                <input type="hidden" name="slug" value="operation">
                <div class="ln_solid"></div>
                <div class="form-group">
                  <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                    <button type="submit" class="btn btn-success save_scroll">Submit</button>
                  </div>
                </div>
              </form>
               
          </div>
        </div>

        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i>Blogs</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
               <form class="form-horizontal form-label-left" method="POST" action="." novalidate id="change-blog-form">
                {{blog_form.media}}
                {% csrf_token %}
                  
                  {% if blog_form.non_field_errors %}
                    <div class="alert alert-danger alert-dismissible fade in" role="alert">
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                      </button>
                      {{blog_form.non_field_errors}}
                    </div>
                  {% endif %}

                  <div class="item form-group {% if blog_form.blogs.errors %}bad{% endif %}">
                    <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ blog_form.blogs.id_for_label }}">Blogs Available <span class="required">*</span>
                    </label>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                      {{blog_form.blogs}}
                    </div>
                    <div class="alert">{{blog_form.blogs.errors}}</div>
                  </div>
                  
                  
                  <input type="hidden" name="product" value="{{object.pk}}">
                  <input type="hidden" name="slug" value="blogs">
                  <div class="ln_solid"></div>
                  <div class="form-group">
                    <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                      <button type="submit" class="btn btn-success save_scroll">Submit</button>
                    </div>
                  </div>
                </form>   
          </div>
        </div>

        {% if prd_university_form %}
          <div class="x_panel">
            <div class="x_title">
              <h2><i class="fa fa-thumb-tack"></i> University Course Detail</h2>
              <ul class="nav navbar-right panel_toolbox">
                <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                </li>
              </ul>
              <div class="clearfix"></div>
            </div>
            <div class="x_content">
               <div class="accordion" id="accordion50" role="tablist" aria-multiselectable="true">
                  <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-university-course-form">
                        {% csrf_token %}
                    <div class="item form-group {% if prd_university_form.batch_launch_date.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                        Batch Launch Date<span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{prd_university_form.batch_launch_date}}
                      </div>
                      <div class="alert">{{prd_university_form.batch_launch_date.errors}}</div>
                    </div>
                    <div class="item form-group {% if prd_university_form.apply_last_date.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                        Apply Last Date<span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{prd_university_form.apply_last_date}}
                      </div>
                      <div class="alert">{{prd_university_form.apply_last_date.errors}}</div>
                    </div>
                    <div class="item form-group {% if prd_university_form.payment_deadline.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                        Payment Deadline<span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{prd_university_form.payment_deadline}}
                      </div>
                      <div class="alert">{{prd_university_form.payment_deadline.errors}}</div>
                    </div>
                    <div class="item form-group {% if prd_university_form.sample_certificate.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                        Sample Certificate<span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        {{prd_university_form.sample_certificate}}
                      </div>
                      <div class="alert">{{prd_university_form.sample_certificate.errors}}</div>
                    </div>
                    <div class="item form-group {% if prd_university_form.application_process.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                        Application Process<span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12" id="application_process">
                        <ul id="id_application_process" class="exe-application-process">
                          {% for x,y,z in prd_university_form.fields.application_process_choices.choices %}
                            <li>
                              <label for="id_application_process_{{forloop.counter}}">
                                <input class="form-control col-md-7 col-xs-12 process_item process_checkbox" id="id_application_process_{{forloop.counter}}" name="application_process" type="checkbox" value="{{ x }}" required="" {%if x  in prd_university_form.fields.application_process_choices.initial %} checked {% endif %}>
                                <figure class="col-sm-3 process-box" style="width:100%">
                                  <span class="circle"><i class="{{y}}"></i></span>
                                  <figcaption>{{z}}</figcaption>
                                </figure>                          
                              </label>
                            
                            </li>
                          {% endfor %}
                        </ul>
                      </div>
                      <div class="alert">{{prd_university_form.application_process.errors}}</div>
                     
                    </div>
                    <div class="row item form-group " id="selected_process" >
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" >               
                        Selected Application Process(Sorted)<span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                        <div class="row"  id="application_processes">
                          {% if prd_university_form.fields.selected_process_choices.choices %}
                            {% for x , y, z in prd_university_form.fields.selected_process_choices.choices %}
                              <div class="col-md-3  exe-application-process" id="selected_process_{{x}}">
                                 <figure class="col-sm-12 process-box" style="width:100%">
                                  <span class="circle"><i class="{{y}}"></i></span>
                                  <figcaption>{{z}}</figcaption>
                                </figure>     
                              </div>
                            {% endfor %}
                          {% else %}
                                No Application Process Selected
                          {% endif %}                         
                        </div>
                      </div>
                    </div>
                    <div class="item form-group {% if prd_university_form.benefits_choices.errors %}bad{% endif %}">
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                        Benefits<span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12" id="benefits">
                        <ul id="id_benefits"  class="exe-application-process">
                           {% for x,y,z in prd_university_form.fields.benefits_choices.choices %}
                            <li>
                              <label for="id_benefits_{{forloop.counter}}">
                                <input class="form-control col-md-7 col-xs-12 benefit_item benefit_checkbox" id="id_benefits_{{forloop.counter}}" name="benefits" type="checkbox" value="{{ x }}" required="" {%if x  in prd_university_form.fields.benefits_choices.initial %} checked {% endif %}>
                                <figure class="col-sm-4 process-box" style="width:100%">
                                  <span class="circle"><i class="{{y}}"></i></span>
                                  <figcaption>{{z}}</figcaption>
                                </figure>  
                            </li>
                          {% endfor %}
                        </ul>
                      </div>
                      <div class="alert">{{prd_university_form.benefits.errors}}</div>
                     
                    </div>
                    <div class="row item form-group " id="selected_process" >
                      <label class="control-label col-md-2 col-sm-2 col-xs-12" >               
                        Selected Benefits(Sorted)<span class="required">*</span>
                      </label>
                      <div class="col-md-7 col-sm-7 col-xs-12">
                       <div class="row"  id="selected_benefits">
                          {% if prd_university_form.fields.selected_benefits_choices.choices %}
                            {% for x , y, z in prd_university_form.fields.selected_benefits_choices.choices %}
                              <div class="col-md-3  exe-application-process" id="selected_benefit_{{x}}">
                                 <figure class="col-sm-12 process-box" style="width:100%">
                                  <span class="circle"><i class="{{y}}"></i></span>
                                  <figcaption>{{z}}</figcaption>
                                </figure>     
                              </div>
                            {% endfor %}
                          {% else %}
                                No Benefit Selected
                          {% endif %}                         
                        </div>
                      </div>
                    </div>
                    <div class="item form-group {% if prd_university_form.eligibility_criteria.errors %}bad{% endif %}">
                       <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                          Eligibility Criteria.<span class="required">*</span>
                        </label>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                            {{prd_university_form.eligibility_criteria}}
                            <div id="suggestions-container" style="position: relative; float: left; width: 250px; margin: 10px;"></div>
                        </div>
                        <div class="alert">{{prd_university_form.eligibility_criteria.errors}}</div>
                    </div>
                    <div class="item form-group {% if prd_university_form.highlighted_benefits.errors %}bad{% endif %}">
                       <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                          Highlighted Benefits<span class="required">*</span>
                        </label>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                            {{prd_university_form.highlighted_benefits}}
                            <div id="suggestions-container" style="position: relative; float: left; width: 250px; margin: 10px;"></div>
                        </div>
                        <div class="alert">{{prd_university_form.highlighted_benefits.errors}}</div>
                    </div>

                    <div class="item form-group {% if prd_university_form.attendees_criteria.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                          Who Should Attend?<span class="required">*</span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                        {% for heading, subheading in prd_university_form.fields.attendees_criteria_choices.choices%}
                          <div class="col-md-6 col-sm-6 col-xs-12">
                            <label>Heading - {{ forloop.counter }} </label><input type="text" class="form-control" value="{{heading}}" name="heading_{{forloop.counter0}}" maxlength="35">
                          </div>
                          <div class="col-md-6 col-sm-6 col-xs-12">
                            <label>Sub Heading - {{ forloop.counter }}</label><input type="text"  class="form-control"  value="{{subheading}}" name="subheading_{{forloop.counter0}}" maxlength="85">
                          </div>
                          <div class="col-md-12">
                            <hr>
                          </div>
                        {% endfor %}

                        </div>
                      <div class="alert">{{prd_university_form.attendees_criteria.errors}}</div>
                    </div>
                      <div class="item form-group {% if prd_university_form.assesment.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                          Assesment and Evaluation.<span class="required">*</span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{prd_university_form.assesment}}
                        </div>
                      <div class="alert">{{prd_university_form.assesment.errors}}</div>
                    </div>
                  <input type="hidden" name="product" value="{{object.pk}}">
                    <input type="hidden" name="slug" value="university">
                    <input type="hidden" name="application_process_priority" value="" id="application_process_priority">
                    <input type="hidden" name="benefits_priority" value="" id="benefits_priority">
                    <div class="ln_solid"></div>
                    <div class="form-group">
                      <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                        <button type="submit" class="btn btn-success save_scroll">Submit</button>
                      </div>
                    </div>
                  
                </form>
                </div>   
            </div>
          </div>
        {% endif %}

        {% if prd_university_payment_formset %}
        <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i> University Course Payment</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
              <div class="accordion" id="accordion51" role="tablist" aria-multiselectable="true">
                <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-product-university-payment-form">
                      {% csrf_token %}
                      {{ prd_university_payment_formset.management_form }}
                  {% if prd_university_payment_formset.non_form_errors %}
                    <div class="alert alert-danger alert-dismissible fade in" role="alert">
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                      </button>
                      {{ prd_university_payment_formset.non_form_errors }}
                    </div>
                  {% endif %}
                <div class="inter-related-parent-div">    
                {% for inline_admin_form in prd_university_payment_formset.forms %}
                {% if forloop.counter < 5 %}
                  {% if forloop.counter == 4 %}
                    
                  {% else%}

                <div class="panel {% if forloop.last %} {% endif %}">
                  <a class="panel-heading {% if not inline_admin_form.errors %}collapsed{% endif %}" role="tab" id="heading2{{forloop.counter}}60" data-toggle="collapse" data-parent="#accordion60" href="#collapse21{{forloop.counter}}60" {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false"{% endif %} aria-controls="collapse21{{forloop.counter}}60">
                    {% if  inline_admin_form.instance.id %}
                    <h4 class="panel-title">University Course Payment:&nbsp;{{inline_admin_form|get_instance}}</h4>

                    {% else %}
                    
                    <h4 class="panel-title">University Course Payment: Add New</h4>
                    
                    {% endif %}

                      
                  </a>
                  {% endif %}
                  <div id="collapse21{{forloop.counter}}60" class="panel-collapse collapse
                      {% if inline_admin_form.errors %}in{% endif %}" 
                      {% if inline_admin_form.errors %}aria-expanded="true"{% else %}aria-expanded="false" style="height: 0px;"{% endif %}
                       role="tabpanel" aria-labelledby="heading2{{forloop.counter}}60">
                    <div class="panel-body">
                        {% if  inline_admin_form.DELETE %}
                          <div class="pull-left">
                            {{inline_admin_form.DELETE}}<label for="{{ inline_admin_form.DELETE.id_for_label }}" style="color:#d9534f !important;">&nbsp;&nbsp;Delete
                            </label>
                            
                          </div>
                          </br>
                            <div class="clearfix"></div>
                        {% endif %}

                        {% for hidden in inline_admin_form.hidden_fields %}
                            {{ hidden }}
                        {% endfor %}
                    
                        <div class="item form-group {% if inline_admin_form.installment_fee.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.installment_fee.id_for_label }}">INR Program Fee <span class="required">*</span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.installment_fee}}
                        </div>
                        <div class="alert">{{inline_admin_form.installment_fee.errors}}</div>
                      </div>
                      
                      <div class="item form-group {% if inline_admin_form.last_date_of_payment.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.last_date_of_payment.id_for_label }}">Last Date of Payment <span class="required"></span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.last_date_of_payment}}
                        </div>
                        <div class="alert">{{inline_admin_form.last_date_of_payment.errors}}</div>
                      </div>

                      <div class="item form-group {% if inline_admin_form.active.errors %}bad{% endif %}">
                        <label class="control-label col-md-2 col-sm-2 col-xs-12" for="{{ inline_admin_form.active.id_for_label }}">Active<span class="required"></span>
                        </label>
                        <div class="col-md-7 col-sm-7 col-xs-12">
                          {{inline_admin_form.active}}
                        </div>
                        <div class="alert">{{inline_admin_form.active.errors}}</div>
                      </div>

                    </div>
                  </div>
                </div>
                {% endif %}
                {% endfor %}
                </div>
                <input type="hidden" name="product" value="{{object.pk}}">
                  <input type="hidden" name="slug" value="university_payment">
                  <div class="ln_solid"></div>
                  <div class="form-group">
                    <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                      <button type="submit" class="btn btn-success save_scroll">Submit</button>
                    </div>
                  </div>
                
                </form>
              </div>  
          </div>
        </div>
        {% endif %}

        {% if testimonial_model_formset %}
      <div class="x_panel">
          <div class="x_title">
            <h2><i class="fa fa-thumb-tack"></i> Add/Change Testimonial</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
            <div class="accordion" id="accordion3" role="tablist" aria-multiselectable="true">
              <form class="form-horizontal form-label-left" method="POST" action="." novalidate enctype="multipart/form-data" id="change-testimonial-form">
                    {% csrf_token %}
                    {{ testimonial_model_formset.management_form }}
                {% if testimonial_model_formset.non_form_errors %}
                  <div class="alert alert-danger alert-dismissible fade in" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                    </button>
                    {{ testimonial_model_formset.non_form_errors }}
                  </div>
                {% endif %}
              <div class="inter-related-parent-div">    
              {% for inline_admin_form in testimonial_model_formset.forms %}
              <div class="panel {% if forloop.last %} {% endif %}">
                <a class="panel-heading collapsed" role="tab" id="heading{{forloop.counter}}" data-toggle="collapse" data-parent="#accordion3" href="#collapse{{forloop.counter}}3" aria-expanded="false" aria-controls="collapse{{forloop.counter}}3">
                  {% if  inline_admin_form.instance and inline_admin_form.instance.id %}
                  <h4 class="panel-title">Testimonial:&nbsp;{{forloop.counter|ordinal}} Installment -   {{inline_admin_form|get_instance}}</h4>

                  {% else %}
                  <h4 class="panel-title">Testimonial: Add New
                  </h4>{% endif %}

                    
                </a>
                <div id="collapse{{forloop.counter}}3" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne" aria-expanded="false" style="height: 0px;">
                  <div class="panel-body">
                      {% if  inline_admin_form.DELETE %}
                        <div class="pull-left">
                          {{inline_admin_form.DELETE}}<label for="{{ inline_admin_form.DELETE.id_for_label }}" style="color:#d9534f !important;">&nbsp;&nbsp;Delete
                          </label>
                          
                        </div>
                        </br>
                          <div class="clearfix"></div>
                      {% endif %}

                      {% for hidden in inline_admin_form.hidden_fields %}
                          {{ hidden }}
                      {% endfor %}

                    <div class="item form-group {% if inline_admin_form.user_name.errors %}bad{% endif %}">
                      <label class="control-label col-md-3 col-sm-3 col-xs-12" for="{{ inline_admin_form.user_name.id_for_label }}">{{inline_admin_form.user_name.label}} <span class="required" style="color:red">*</span>
                      </label>
                      <div class="col-md-6 col-sm-6 col-xs-12">
                        {{inline_admin_form.user_name}}
                      </div>
                      <div class="alert">{{inline_admin_form.user_name.errors}}</div>
                    </div>

                    <div class="item form-group {% if inline_admin_form.image.errors %}bad{% endif %}">
                      <label class="control-label col-md-3 col-sm-3 col-xs-12" for="{{ inline_admin_form.image.id_for_label }}">{{inline_admin_form.image.label}} <span class="required" style="color:red"></span>
                      </label>
                      <div class="col-md-6 col-sm-6 col-xs-12">
                        {{inline_admin_form.image}}
                      </div>
                      <div class="alert">{{inline_admin_form.image.errors}}</div>
                    </div>

                    <div class="item form-group {% if inline_admin_form.designation.errors %}bad{% endif %}">
                      <label class="control-label col-md-3 col-sm-3 col-xs-12" for="{{ inline_admin_form.designation.id_for_label }}">{{inline_admin_form.designation.label}} <span class="required" style="color:red">*</span>
                      </label>
                      <div class="col-md-6 col-sm-6 col-xs-12">
                        {{inline_admin_form.designation}}
                      </div>
                      <div class="alert">{{inline_admin_form.designation.errors}}</div>
                    </div>

                    <div class="item form-group {% if inline_admin_form.company.errors %}bad{% endif %}">
                      <label class="control-label col-md-3 col-sm-3 col-xs-12" for="{{ inline_admin_form.company.id_for_label }}">{{inline_admin_form.company.label}} <span class="required" style="color:red">*</span>
                      </label>
                      <div class="col-md-6 col-sm-6 col-xs-12">
                        {{inline_admin_form.company}}
                      </div>
                      <div class="alert">{{inline_admin_form.company.errors}}</div>
                    </div>

                    <div class="item form-group {% if inline_admin_form.title.errors %}bad{% endif %}">
                      <label class="control-label col-md-3 col-sm-3 col-xs-12" for="{{ inline_admin_form.title.id_for_label }}">{{inline_admin_form.title.label}} <span class="required" style="color:red"></span>
                      </label>
                      <div class="col-md-6 col-sm-6 col-xs-12">
                        {{inline_admin_form.title}}
                      </div>
                      <div class="alert">{{inline_admin_form.title.errors}}</div>
                    </div>

                    <div class="item form-group {% if inline_admin_form.review.errors %}bad{% endif %}">
                      <label class="control-label col-md-3 col-sm-3 col-xs-12" for="{{ inline_admin_form.review.id_for_label }}">{{inline_admin_form.review.label}} <span class="required" style="color:red">*</span>
                      </label>
                      <div class="col-md-6 col-sm-6 col-xs-12">
                        {{inline_admin_form.review}}
                      </div>
                      <div class="alert">{{inline_admin_form.review.errors}}</div>
                    </div>


                    
                    <div class="item form-group {% if inline_admin_form.priority.errors %}bad{% endif %}">
                      <label class="control-label col-md-3 col-sm-3 col-xs-12" for="{{ inline_admin_form.priority.id_for_label }}">{{inline_admin_form.priority.label}} <span class="required"></span>
                      </label>
                      <div class="col-md-6 col-sm-6 col-xs-12">
                        {{inline_admin_form.priority}}
                      </div>
                      <div class="alert">{{inline_admin_form.priority.errors}}</div>
                    </div>

                    <div class="item form-group {% if inline_admin_form.is_active.errors %}bad{% endif %}">
                      <label class="control-label col-md-3 col-sm-3 col-xs-12" for="{{ inline_admin_form.is_active.id_for_label }}">{{inline_admin_form.is_active.label}} <span class="required"></span>
                      </label>
                      <div class="col-md-6 col-sm-6 col-xs-12">
                        {{inline_admin_form.is_active}}
                      </div>
                      <div class="alert">{{inline_admin_form.is_active.errors}}</div>
                    </div>

                  </div>
                </div>
              </div>
              {% endfor %}
              </div>
             

                 <input type="hidden" name="product" value="{{object.pk}}">
                <input type="hidden" name="slug" value="testimonial_model">
                <div class="ln_solid"></div>
                <div class="form-group">
                  <div class="col-md-9 col-sm-9 col-xs-9 col-md-offset-3">
                    <button type="submit" class="btn btn-success">Submit</button>
                  </div>
                </div>
              
              </form>
            </div>  

          </div>
        </div>
        {% endif %}

      </div>
    </div>
    
  
</div>
</div>
 <!-- modal -->
      <div class="modal fade bs-example-modal-sm filter" id="skill_suggestion_modal" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span>
                  </button>
                  <h4 class="modal-title" id="myModalLabel2">Filter By</h4>
                </div>
                <div class="modal-body">
                  <form id="product_skill_form">
                    <table id="product_skill_table" class="table">
                      <thead>
                      <tr>
                        <th>Skill</th>
                        <th>Type</th>
                        <th>Remove</th>
                      </tr>
                    </thead>
                      <tbody id="product_skill_data">
                      </tbody>
                    </table>
                  </form>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary" onclick="UpdateProductSkill()">Add Skill</button>
                </div>
              </div>
            </div>
        </div>
        <!-- modal end -->
        <!-- /page content -->
        <!-- /page content -->

{% endblock pagecontent %}

        
{% block js_block %}
  {{ block.super }}
   <script  type="text/javascript">
    var sub_type_flow_choices =  {{ sub_type_flow_choices|safe }}
    var present_keys = Object.keys(sub_type_flow_choices)
    var type_flow = $("select[name='type_flow']").val()
    if (present_keys.indexOf(type_flow) == -1){
      $("#sub_type_flow_div").hide();
    }
    $("select[name='type_flow']").on('change', function(){
      var select = $("select[name='sub_type_flow']")
      var type_flow = $(this).val()
      if(sub_type_flow_choices[type_flow]){
        $("#sub_type_flow_div").show();
        options = sub_type_flow_choices[type_flow]
        options_string = ''
        options.forEach(function(ele){
          options_string += '<option value="' +ele[0] + '">' + ele[1] + '</option>';
        })
        select.find('option').remove()
        select.append(options_string)

      }
      else {
        $("#sub_type_flow_div").hide();
      }
         
    });

  </script>
<script type="text/javascript">
 application_process_order =[]
  benefits_order = []

  {% for x , y, z in prd_university_form.fields.selected_process_choices.choices %}
    k = {{x}}
    application_process_order.push(k.toString())
  {% endfor %}

  {% for x , y, z in prd_university_form.fields.selected_benefits_choices.choices %}
    m = {{x}}
    benefits_order.push(m.toString())
  {% endfor %}
</script>
    {% compress js %}
    <!-- Parsley Validate Scripts -->
    <script type="text/javascript" src="{% static 'packages/bootstrap-daterangepicker/daterangepicker.js' %}">
    </script>
    <script type="text/javascript" src="{% static 'packages/jquery.tagsinput/src/jquery.tagsinput.js' %}"></script>
    <script type="text/javascript" src="{% static 'packages/parsleyjs/parsley.min.js' %}"></script>
    <script src="{% static 'console/js/myadmin/django-admin.multiselect.js' %}"></script>
    <script src="{% static 'console/js/myadmin/django-admin-multiselect-media.js' %}"></script>
    <!-- Switchery -->
    <script type="text/javascript" src="{% static 'packages/switchery/dist/switchery.min.js' %}"></script>
    <!-- ColorSelector -->
    <script type="text/javascript"  src="{% static 'packages/bootstrap-colorselector/dist/bootstrap-colorselector.min.js'  %}"></script>
    <!-- Custom Theme Scripts -->
    <script type="text/javascript" src="{% static 'console/js/shop/console_shop.js' %}"></script>

    <script type="text/javascript" src="{% static 'console/js/shop/change_product.js' %}"></script>
    <script type="text/javascript" src="{% static 'packages/jquery.tagsinput/src/jquery.tagsinput.js' %}"></script>
    <script type="text/javascript">

  $("#application_process_priority").val(application_process_order.join(','))
  $("#benefits_priority").val(benefits_order.join(','))
 if(application_process_order.length>=4){
    $("input.process_checkbox:checkbox:not(:checked)").attr('disabled','true')
  }
  $('.process_item').change(function() {
      var curr_html_text = $("#application_processes").text().trim()
      var curr_html = $("#application_processes").html()
      var html_template = '<div class="col-md-3  exe-application-process" id="selected_process_counter"><figure class="col-sm-12 process-box" style="width:100%"><span class="circle"><i class="img_src"></i></span><figcaption>detail_name</figcaption></figure></div>';
      var label = $(this).prop('labels')
      var src= $(label).find('figure > span > i').attr('class')
      var detail = $(label).find('figcaption').text()
      var val = $(this).val()
      new_html = html_template.replace('counter', val)
      new_html = new_html.replace('img_src', src)
      new_html = new_html.replace('detail_name', detail)
      if($(this).is(":checked")){
        if(curr_html_text=='No Application Process Selected'){
          $("#application_processes").html(new_html)
          application_process_order.push($(this).val())
        }
        else{
          curr_html += new_html
          $("#application_processes").html(curr_html)
          application_process_order.push($(this).val())
        }
      }
    else {
      curr_html = curr_html.replace(new_html,"");
      $("#application_processes").html(curr_html)
      application_process_order.splice(application_process_order.indexOf($(this).val()), 1)
    }   
    if(application_process_order.length==0){
       $("#application_processes").text('No Application Process Selected')
    }  
    if(application_process_order.length>=4){
      $("input.process_checkbox:checkbox:not(:checked)").attr('disabled','true')
    }
    else{
     $("input.process_checkbox:checkbox:not(:checked)").removeAttr('disabled','true') 
    }
    $("#application_process_priority").val(application_process_order.join(','))
});


  $('.benefit_item').change(function() {
      var curr_html_text = $("#selected_benefits").text().trim()
      var curr_html = $("#selected_benefits").html()
      var html_template = '<div class="col-md-3  exe-application-process" id="selected_benefit_counter"><figure class="col-sm-12 process-box" style="width:100%"><span class="circle"><i class="img_src"></i></span><figcaption>detail_name</figcaption></figure></div>';
      var label = $(this).prop('labels')
      var src= $(label).find('figure > span > i').attr('class')
      var detail = $(label).find('figcaption').text()
      var val = $(this).val()
      new_html = html_template.replace('counter', val)
      new_html = new_html.replace('img_src', src)
      new_html = new_html.replace('detail_name', detail)
      if($(this).is(":checked")){
        if(curr_html_text=='No Benefit Selected'){
          $("#selected_benefits").html(new_html)
          benefits_order.push($(this).val())
        }
        else{
          curr_html += new_html
          $("#selected_benefits").html(curr_html)
          benefits_order.push($(this).val())
        }
      }
    else {
      curr_html = curr_html.replace(new_html,"");
      $("#selected_benefits").html(curr_html)
      benefits_order.splice(benefits_order.indexOf($(this).val()), 1)
    }   
    if(benefits_order.length==0){
       $("#selected_benefits").text('No Benefit Selected')
    }  
    if(benefits_order.length>=4){
      $("input.benefit_checkbox:checkbox:not(:checked)").attr('disabled','true')
    }
    else{
     $("input.benefit_checkbox:checkbox:not(:checked)").removeAttr('disabled','true') 
    }
    $("#benefits_priority").val(benefits_order.join(','))

});

  $('#id_product_skill').tagsInput({
        width: 'auto',
        'delimiter': [','],   // Or a string with a single delimiter. Ex: ';'
    });
    paste_tage('id_product_skill')

  $('#id_required_skill').tagsInput({
        width: 'auto',
        'delimiter': [','],   // Or a string with a single delimiter. Ex: ';'
    });
    paste_tage('id_required_skill')

    function paste_tage(tag_id){
      $("#"+tag_id+"_tag").on('paste',function(e){
        var element=this;
        setTimeout(function () {
            var text = $(element).val();
            var target=$("#"+tag_id);
            var tags = (text).split(/[,]+/);
            for (var i = 0, z = tags.length; i<z; i++) {
                  var tag = $.trim(tags[i]);
                  if (!target.tagExist(tag)) {
                        target.addTag(tag);
                  }
                  else
                  {
                      $("#"+tag_id+"_tag").val('');
                  }
             }
        }, 0);
    });
  }

  $('.copy-tag').click(function(){
      let elem_id = $(this).attr('data-copy-tag-id');
      let k = $("#"+elem_id).siblings(".tagsinput").children('.tag')
      let tags = [];
      for (var i=0;i< k.length; i++) {  
          tags.push($(k[i]).text().substring(0, $(k[i]).text().length -  1).trim());  
      }
      element = $('<textarea>').appendTo('body').val(tags.join(',')).select()
      document.execCommand('copy')
      element.remove()
    });
  </script>
   

    {% endcompress %}
     <script>
    var product_id = {{ object.id }}
    $("#suggestion_skill_btn").click(function(){
        let url = '/api/v1/parse-skill/'
        text = CKEDITOR.instances['id_description'].document.getBody().getText()
        data = {'text': text}
        $(this).html('<i class="fa fa-spinner fa-spin"></i>Loading')
        $(this).attr('disabled','disabled')
        $.ajax({
          url: url,
          method: 'POST',
          data: data,
          success: function(data){
            $("#suggestion_skill_btn").html('View Skill Suggestion')
            $("#suggestion_skill_btn").removeAttr('disabled')
            if(data.length > 0){
                let k ='<p><b> Suggested Skill:- </b></p>'+ data.slice(0,3).join(',') +'<p><a type="button" id="view_suggestion_modal_btn">View All</a></p><br><br>'
                $("#suggestion_box").html(k)
                row = `<tr>
                        <td class="skill">skill_name</td>
                        <td>
                            <select class="skill_type form-control">
                               <option value="1">Product Skill</option>
                               <option value="2">User Skill</option>
                            </select>
                        </td>
                        <td><a  type="button" id='remove_skill'>Remove</a></td>
                      </tr>`
                $("#product_skill_data").empty()
                data.forEach(function(ele){
                  skill_row = row.replace('skill_name', ele)
                  $("#product_skill_data").append(skill_row)
                });
             }
          }
        })
    });

    $("#suggestion_box").on('click','#view_suggestion_modal_btn',function(){
      $("#skill_suggestion_modal").modal('show')

    })
    $('#product_skill_data').on('click',"#remove_skill", function(){
      $(this).parents('tr').remove()
    })

    function UpdateProductSkill(){
      all_skills = $("#product_skill_data").find('tr')
      let data = {'user_type':[], 'product_type': [], 'product_id': product_id}
      for(let i=0; i<all_skills.length; i++){
          name = $(all_skills[i]).find('.skill').text()
          type = $(all_skills[i]).find('.skill_type').val()
          if(type == "1"){
            data['product_type'].push(name)
          }
          else{
            data['user_type'].push(name)
          }
      }
      let url = '/api/v1/product-skill/update/'
      $.ajaxSetup({
        beforeSend: function(xhr, settings) {
          if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
              xhr.setRequestHeader("X-CSRFToken", getCookie('csrftoken'));
          }
        }
      });
      $.ajax({
        url: url,
        method: 'POST',
        data: JSON.stringify(data),
        contentType: "application/json",
        dataType: "json",
        success: function() {
          $("#skill_suggestion_modal").modal('hide')
        }
      })
    }

  </script>



{% endblock js_block %}
